\hypertarget{ess__socket_8h}{}\section{include/ess\+\_\+socket.h File Reference}
\label{ess__socket_8h}\index{include/ess\+\_\+socket.\+h@{include/ess\+\_\+socket.\+h}}
{\ttfamily \#include \char`\"{}ess\+\_\+error.\+h\char`\"{}}\newline
Include dependency graph for ess\+\_\+socket.\+h\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=189pt]{df/d02/ess__socket_8h__incl}
\end{center}
\end{figure}
This graph shows which files directly or indirectly include this file\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=298pt]{de/d4f/ess__socket_8h__dep__incl}
\end{center}
\end{figure}
\subsection*{Data Structures}
\begin{DoxyCompactItemize}
\item 
struct \hyperlink{structess__socket}{ess\+\_\+socket}
\begin{DoxyCompactList}\small\item\em hold all socket managment importend data \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Typedefs}
\begin{DoxyCompactItemize}
\item 
typedef enum \hyperlink{ess__socket_8h_aeaa282f75f614c7bb033f6b7a72ed037}{ess\+\_\+socket\+\_\+fam} \hyperlink{ess__socket_8h_a9305eae437d57846661e997bb755d150}{ess\+\_\+socket\+\_\+fam\+\_\+t}
\begin{DoxyCompactList}\small\item\em which ip family are use \end{DoxyCompactList}\item 
typedef enum \hyperlink{ess__socket_8h_a2a924f6745a916783fa640cb1c7e1922}{ess\+\_\+socket\+\_\+pro} \hyperlink{ess__socket_8h_a1e8e8de805f8e0b7da25e3b177977273}{ess\+\_\+socket\+\_\+pro\+\_\+t}
\begin{DoxyCompactList}\small\item\em which comunications protocol are use \end{DoxyCompactList}\item 
typedef enum \hyperlink{ess__socket_8h_a85c5abde0574d4a5fbf9e220a18e89dc}{ess\+\_\+socket\+\_\+status} \hyperlink{ess__socket_8h_ae3a6dc482fc34f9ea0361820ba4be573}{ess\+\_\+socket\+\_\+status\+\_\+t}
\begin{DoxyCompactList}\small\item\em \hyperlink{structess__socket}{ess\+\_\+socket} status \end{DoxyCompactList}\item 
typedef struct \hyperlink{structess__socket}{ess\+\_\+socket} \hyperlink{ess__socket_8h_ab7457db5cd500e7f0d74d0bc07356663}{ess\+\_\+socket\+\_\+t}
\begin{DoxyCompactList}\small\item\em hold all socket managment importend data \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Enumerations}
\begin{DoxyCompactItemize}
\item 
enum \hyperlink{ess__socket_8h_aeaa282f75f614c7bb033f6b7a72ed037}{ess\+\_\+socket\+\_\+fam} \{ \hyperlink{ess__socket_8h_aeaa282f75f614c7bb033f6b7a72ed037a5e2c7645ba65720d7b828d111df09bb1}{E\+S\+S\+\_\+\+S\+O\+C\+K\+E\+T\+\_\+\+F\+A\+M\+I\+L\+Y\+\_\+\+I\+P4}, 
\hyperlink{ess__socket_8h_aeaa282f75f614c7bb033f6b7a72ed037aff947ddfbc0a3d635ad83146dbaa3a72}{E\+S\+S\+\_\+\+S\+O\+C\+K\+E\+T\+\_\+\+F\+A\+M\+I\+L\+Y\+\_\+\+I\+P6}, 
\hyperlink{ess__socket_8h_aeaa282f75f614c7bb033f6b7a72ed037a7376a04481497185206395231d23624d}{E\+S\+S\+\_\+\+S\+O\+C\+K\+E\+T\+\_\+\+F\+A\+M\+I\+L\+Y\+\_\+\+B\+O\+TH}
 \}\begin{DoxyCompactList}\small\item\em which ip family are use \end{DoxyCompactList}
\item 
enum \hyperlink{ess__socket_8h_a2a924f6745a916783fa640cb1c7e1922}{ess\+\_\+socket\+\_\+pro} \{ \hyperlink{ess__socket_8h_a2a924f6745a916783fa640cb1c7e1922a93d8e041d336d1198151ca5cca210d34}{E\+S\+S\+\_\+\+S\+O\+C\+K\+E\+T\+\_\+\+P\+R\+O\+T\+O\+\_\+\+D\+R\+AM}, 
\hyperlink{ess__socket_8h_a2a924f6745a916783fa640cb1c7e1922acba46066923047105db966901c0e8904}{E\+S\+S\+\_\+\+S\+O\+C\+K\+E\+T\+\_\+\+P\+R\+O\+T\+O\+\_\+\+S\+T\+R\+E\+AM}, 
\hyperlink{ess__socket_8h_a2a924f6745a916783fa640cb1c7e1922afb68fe5545329fb828acf269580e0be9}{E\+S\+S\+\_\+\+S\+O\+C\+K\+E\+T\+\_\+\+P\+R\+O\+T\+O\+\_\+\+D\+R\+A\+M\+\_\+\+L\+I\+TE}
 \}\begin{DoxyCompactList}\small\item\em which comunications protocol are use \end{DoxyCompactList}
\item 
enum \hyperlink{ess__socket_8h_a85c5abde0574d4a5fbf9e220a18e89dc}{ess\+\_\+socket\+\_\+status} \{ \newline
\hyperlink{ess__socket_8h_a85c5abde0574d4a5fbf9e220a18e89dca12156322e5e18ca7411b18dba57b9874}{E\+S\+S\+\_\+\+S\+O\+C\+K\+E\+T\+\_\+\+S\+T\+A\+T\+U\+S\+\_\+\+C\+R\+E\+A\+T\+ED}, 
\hyperlink{ess__socket_8h_a85c5abde0574d4a5fbf9e220a18e89dca7ee468f68ee4bd3cfbcdc6bda032be83}{E\+S\+S\+\_\+\+S\+O\+C\+K\+E\+T\+\_\+\+S\+T\+A\+T\+U\+S\+\_\+\+L\+I\+S\+T\+EN}, 
\hyperlink{ess__socket_8h_a85c5abde0574d4a5fbf9e220a18e89dca37cf1e968a55c1fffcf40faa6fe58bd2}{E\+S\+S\+\_\+\+S\+O\+C\+K\+E\+T\+\_\+\+S\+T\+A\+T\+U\+S\+\_\+\+S\+T\+O\+P\+P\+ED}, 
\hyperlink{ess__socket_8h_a85c5abde0574d4a5fbf9e220a18e89dcaa44487507568afb1224527edc59777bc}{E\+S\+S\+\_\+\+S\+O\+C\+K\+E\+T\+\_\+\+S\+T\+A\+T\+U\+S\+\_\+\+E\+R\+R\+OR}, 
\newline
\hyperlink{ess__socket_8h_a85c5abde0574d4a5fbf9e220a18e89dca5af7d3436478f96533b600da6a749ad9}{E\+S\+S\+\_\+\+S\+O\+C\+K\+E\+T\+\_\+\+S\+T\+A\+T\+U\+S\+\_\+\+D\+E\+S\+T\+R\+OY}
 \}\begin{DoxyCompactList}\small\item\em \hyperlink{structess__socket}{ess\+\_\+socket} status \end{DoxyCompactList}
\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{ess__socket_8h_a9305eae437d57846661e997bb755d150}{ess\+\_\+socket\+\_\+fam\+\_\+t} \hyperlink{ess__socket_8h_aa50935ade25f18193eae883d52936d35}{ess\+\_\+get\+\_\+address\+\_\+family} (const char $\ast$hostname)
\begin{DoxyCompactList}\small\item\em Look up which address families a host supports. \end{DoxyCompactList}\item 
\hyperlink{ess__error_8h_a08ab97fcf6745dee67de912e41bd3236}{ess\+\_\+error\+\_\+t} \hyperlink{ess__socket_8h_a9a56fb3768b443909f73bb84b7952cb2}{ess\+\_\+socket\+\_\+create\+\_\+server} (\hyperlink{ess__socket_8h_a9305eae437d57846661e997bb755d150}{ess\+\_\+socket\+\_\+fam\+\_\+t} fam, \hyperlink{ess__socket_8h_a1e8e8de805f8e0b7da25e3b177977273}{ess\+\_\+socket\+\_\+pro\+\_\+t} protokoll, const char $\ast$addr, unsigned short port, \hyperlink{ess__socket_8h_ab7457db5cd500e7f0d74d0bc07356663}{ess\+\_\+socket\+\_\+t} $\ast$socket)
\begin{DoxyCompactList}\small\item\em Create a T\+CP or U\+DP server socket. \end{DoxyCompactList}\item 
\hyperlink{ess__socket_8h_ab7457db5cd500e7f0d74d0bc07356663}{ess\+\_\+socket\+\_\+t} $\ast$ \hyperlink{ess__socket_8h_ac205e3a8f4f3786d88d5462ab8847414}{ess\+\_\+socket\+\_\+accept} (\hyperlink{ess__socket_8h_ab7457db5cd500e7f0d74d0bc07356663}{ess\+\_\+socket\+\_\+t} $\ast$server\+\_\+socket, \hyperlink{ess__error_8h_a08ab97fcf6745dee67de912e41bd3236}{ess\+\_\+error\+\_\+t} $\ast$error\+\_\+code)
\begin{DoxyCompactList}\small\item\em accept a connection attempt on a server socket. \end{DoxyCompactList}\item 
\hyperlink{ess__error_8h_a08ab97fcf6745dee67de912e41bd3236}{ess\+\_\+error\+\_\+t} \hyperlink{ess__socket_8h_af007b9ad6c587c0e1c30a2e9fd883da3}{ess\+\_\+socket\+\_\+close} (\hyperlink{ess__socket_8h_ab7457db5cd500e7f0d74d0bc07356663}{ess\+\_\+socket\+\_\+t} $\ast$socket)
\begin{DoxyCompactList}\small\item\em Close a socket. \end{DoxyCompactList}\item 
\hyperlink{ess__error_8h_a08ab97fcf6745dee67de912e41bd3236}{ess\+\_\+error\+\_\+t} \hyperlink{ess__socket_8h_a4e31af0d18cc5b7b5a56de944d2ce62a}{ess\+\_\+socket\+\_\+end\+\_\+write} (\hyperlink{ess__socket_8h_ab7457db5cd500e7f0d74d0bc07356663}{ess\+\_\+socket\+\_\+t} $\ast$socket)
\begin{DoxyCompactList}\small\item\em perform a {\ttfamily shutdown(2)} call on a socket (write) \end{DoxyCompactList}\item 
\hyperlink{ess__error_8h_a08ab97fcf6745dee67de912e41bd3236}{ess\+\_\+error\+\_\+t} \hyperlink{ess__socket_8h_a01a98541c1c0a9d48f96dd8d4d5ac7ac}{ess\+\_\+socket\+\_\+end\+\_\+read} (\hyperlink{ess__socket_8h_ab7457db5cd500e7f0d74d0bc07356663}{ess\+\_\+socket\+\_\+t} $\ast$socket)
\begin{DoxyCompactList}\small\item\em perform a {\ttfamily shutdown(2)} call on a socket (read) \end{DoxyCompactList}\item 
\hyperlink{ess__error_8h_a08ab97fcf6745dee67de912e41bd3236}{ess\+\_\+error\+\_\+t} \hyperlink{ess__socket_8h_a356fa52fcec30125f75ad2fa2e35ef00}{ess\+\_\+socket\+\_\+end} (\hyperlink{ess__socket_8h_ab7457db5cd500e7f0d74d0bc07356663}{ess\+\_\+socket\+\_\+t} $\ast$socket)
\begin{DoxyCompactList}\small\item\em perform a {\ttfamily shutdown(2)} call on a socket (read/write) \end{DoxyCompactList}\item 
\hyperlink{ess__error_8h_a08ab97fcf6745dee67de912e41bd3236}{ess\+\_\+error\+\_\+t} \hyperlink{ess__socket_8h_a0282292df47969a858ca75e94df8b288}{ess\+\_\+socket\+\_\+set\+\_\+buffer} (\hyperlink{ess__socket_8h_ab7457db5cd500e7f0d74d0bc07356663}{ess\+\_\+socket\+\_\+t} $\ast$socket, unsigned int rec\+\_\+buffer\+\_\+size, unsigned int send\+\_\+buffer\+\_\+size)
\begin{DoxyCompactList}\small\item\em set send and recive buffer size of the socket \end{DoxyCompactList}\item 
\hyperlink{ess__socket_8h_ab7457db5cd500e7f0d74d0bc07356663}{ess\+\_\+socket\+\_\+t} $\ast$ \hyperlink{ess__socket_8h_adef36f85812a91bfa3ded44e273d4c18}{ess\+\_\+socket\+\_\+connect\+\_\+stream} (const char $\ast$hostname, int port, \hyperlink{ess__socket_8h_a9305eae437d57846661e997bb755d150}{ess\+\_\+socket\+\_\+fam\+\_\+t} family, int flags, \hyperlink{ess__error_8h_a08ab97fcf6745dee67de912e41bd3236}{ess\+\_\+error\+\_\+t} $\ast$error\+\_\+code)
\begin{DoxyCompactList}\small\item\em Create and connect a new T\+C\+P/\+IP socket. \end{DoxyCompactList}\item 
\hyperlink{ess__socket_8h_ab7457db5cd500e7f0d74d0bc07356663}{ess\+\_\+socket\+\_\+t} $\ast$ \hyperlink{ess__socket_8h_a78d5b3a7daf7c40ab4b3a30ef8205ccc}{ess\+\_\+socket\+\_\+create\+\_\+dram} (\hyperlink{ess__socket_8h_a9305eae437d57846661e997bb755d150}{ess\+\_\+socket\+\_\+fam\+\_\+t} fam, \hyperlink{ess__socket_8h_a1e8e8de805f8e0b7da25e3b177977273}{ess\+\_\+socket\+\_\+pro\+\_\+t} proto, int flags, \hyperlink{ess__error_8h_a08ab97fcf6745dee67de912e41bd3236}{ess\+\_\+error\+\_\+t} $\ast$error\+\_\+code)
\begin{DoxyCompactList}\small\item\em Creates a new U\+D\+P/\+IP socket. \end{DoxyCompactList}\item 
\hyperlink{ess__error_8h_a08ab97fcf6745dee67de912e41bd3236}{ess\+\_\+error\+\_\+t} \hyperlink{ess__socket_8h_a41ea07f9f56e4572955f73f0f237826a}{ess\+\_\+socket\+\_\+connect\+\_\+dram} (\hyperlink{ess__socket_8h_ab7457db5cd500e7f0d74d0bc07356663}{ess\+\_\+socket\+\_\+t} $\ast$socket, const char $\ast$hostname, int port)
\begin{DoxyCompactList}\small\item\em connect a new U\+DP socket \end{DoxyCompactList}\item 
\hyperlink{ess__error_8h_a08ab97fcf6745dee67de912e41bd3236}{ess\+\_\+error\+\_\+t} \hyperlink{ess__socket_8h_a62b826aa7c650a8d4dc447f029364a94}{ess\+\_\+socket\+\_\+write\+\_\+dram} (\hyperlink{ess__socket_8h_ab7457db5cd500e7f0d74d0bc07356663}{ess\+\_\+socket\+\_\+t} $\ast$socket, const void $\ast$buf, unsigned int size, const char $\ast$host, int port, int sendto\+\_\+flags)
\begin{DoxyCompactList}\small\item\em This function is the equivalent to {\ttfamily sendto(2)} \end{DoxyCompactList}\item 
\hyperlink{ess__error_8h_a08ab97fcf6745dee67de912e41bd3236}{ess\+\_\+error\+\_\+t} \hyperlink{ess__socket_8h_abe25e0d1df2293293f0aa3ee0dedadcf}{ess\+\_\+socket\+\_\+read\+\_\+dram} (\hyperlink{ess__socket_8h_ab7457db5cd500e7f0d74d0bc07356663}{ess\+\_\+socket\+\_\+t} $\ast$socket, void $\ast$buf, unsigned int size, char $\ast$src\+\_\+host, unsigned int src\+\_\+host\+\_\+len, int src\+\_\+port, int recvfrom\+\_\+flags)
\begin{DoxyCompactList}\small\item\em Receive data from a U\+D\+P/\+IP socket. \end{DoxyCompactList}\item 
\hyperlink{ess__error_8h_a08ab97fcf6745dee67de912e41bd3236}{ess\+\_\+error\+\_\+t} \hyperlink{ess__socket_8h_a944f0798ea120bef422f97909451b1a9}{ess\+\_\+socket\+\_\+read} (\hyperlink{ess__socket_8h_ab7457db5cd500e7f0d74d0bc07356663}{ess\+\_\+socket\+\_\+t} $\ast$socket, void $\ast$buffer, unsigned int size, unsigned int $\ast$readed)
\begin{DoxyCompactList}\small\item\em read from socket \end{DoxyCompactList}\item 
\hyperlink{ess__error_8h_a08ab97fcf6745dee67de912e41bd3236}{ess\+\_\+error\+\_\+t} \hyperlink{ess__socket_8h_a1cda1ccc6857cde561484dd998124bd7}{ess\+\_\+socket\+\_\+write} (\hyperlink{ess__socket_8h_ab7457db5cd500e7f0d74d0bc07356663}{ess\+\_\+socket\+\_\+t} $\ast$socket, const void $\ast$buffer, unsigned int size, unsigned int $\ast$wrote)
\begin{DoxyCompactList}\small\item\em read from socket \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Typedef Documentation}
\mbox{\Hypertarget{ess__socket_8h_a9305eae437d57846661e997bb755d150}\label{ess__socket_8h_a9305eae437d57846661e997bb755d150}} 
\index{ess\+\_\+socket.\+h@{ess\+\_\+socket.\+h}!ess\+\_\+socket\+\_\+fam\+\_\+t@{ess\+\_\+socket\+\_\+fam\+\_\+t}}
\index{ess\+\_\+socket\+\_\+fam\+\_\+t@{ess\+\_\+socket\+\_\+fam\+\_\+t}!ess\+\_\+socket.\+h@{ess\+\_\+socket.\+h}}
\subsubsection{\texorpdfstring{ess\+\_\+socket\+\_\+fam\+\_\+t}{ess\_socket\_fam\_t}}
{\footnotesize\ttfamily typedef enum \hyperlink{ess__socket_8h_aeaa282f75f614c7bb033f6b7a72ed037}{ess\+\_\+socket\+\_\+fam} \hyperlink{ess__socket_8h_a9305eae437d57846661e997bb755d150}{ess\+\_\+socket\+\_\+fam\+\_\+t}}



which ip family are use 

\mbox{\Hypertarget{ess__socket_8h_a1e8e8de805f8e0b7da25e3b177977273}\label{ess__socket_8h_a1e8e8de805f8e0b7da25e3b177977273}} 
\index{ess\+\_\+socket.\+h@{ess\+\_\+socket.\+h}!ess\+\_\+socket\+\_\+pro\+\_\+t@{ess\+\_\+socket\+\_\+pro\+\_\+t}}
\index{ess\+\_\+socket\+\_\+pro\+\_\+t@{ess\+\_\+socket\+\_\+pro\+\_\+t}!ess\+\_\+socket.\+h@{ess\+\_\+socket.\+h}}
\subsubsection{\texorpdfstring{ess\+\_\+socket\+\_\+pro\+\_\+t}{ess\_socket\_pro\_t}}
{\footnotesize\ttfamily typedef enum \hyperlink{ess__socket_8h_a2a924f6745a916783fa640cb1c7e1922}{ess\+\_\+socket\+\_\+pro} \hyperlink{ess__socket_8h_a1e8e8de805f8e0b7da25e3b177977273}{ess\+\_\+socket\+\_\+pro\+\_\+t}}



which comunications protocol are use 

\mbox{\Hypertarget{ess__socket_8h_ae3a6dc482fc34f9ea0361820ba4be573}\label{ess__socket_8h_ae3a6dc482fc34f9ea0361820ba4be573}} 
\index{ess\+\_\+socket.\+h@{ess\+\_\+socket.\+h}!ess\+\_\+socket\+\_\+status\+\_\+t@{ess\+\_\+socket\+\_\+status\+\_\+t}}
\index{ess\+\_\+socket\+\_\+status\+\_\+t@{ess\+\_\+socket\+\_\+status\+\_\+t}!ess\+\_\+socket.\+h@{ess\+\_\+socket.\+h}}
\subsubsection{\texorpdfstring{ess\+\_\+socket\+\_\+status\+\_\+t}{ess\_socket\_status\_t}}
{\footnotesize\ttfamily typedef enum \hyperlink{ess__socket_8h_a85c5abde0574d4a5fbf9e220a18e89dc}{ess\+\_\+socket\+\_\+status} \hyperlink{ess__socket_8h_ae3a6dc482fc34f9ea0361820ba4be573}{ess\+\_\+socket\+\_\+status\+\_\+t}}



\hyperlink{structess__socket}{ess\+\_\+socket} status 

\mbox{\Hypertarget{ess__socket_8h_ab7457db5cd500e7f0d74d0bc07356663}\label{ess__socket_8h_ab7457db5cd500e7f0d74d0bc07356663}} 
\index{ess\+\_\+socket.\+h@{ess\+\_\+socket.\+h}!ess\+\_\+socket\+\_\+t@{ess\+\_\+socket\+\_\+t}}
\index{ess\+\_\+socket\+\_\+t@{ess\+\_\+socket\+\_\+t}!ess\+\_\+socket.\+h@{ess\+\_\+socket.\+h}}
\subsubsection{\texorpdfstring{ess\+\_\+socket\+\_\+t}{ess\_socket\_t}}
{\footnotesize\ttfamily typedef struct \hyperlink{structess__socket}{ess\+\_\+socket} \hyperlink{ess__socket_8h_ab7457db5cd500e7f0d74d0bc07356663}{ess\+\_\+socket\+\_\+t}}



hold all socket managment importend data 



\subsection{Enumeration Type Documentation}
\mbox{\Hypertarget{ess__socket_8h_aeaa282f75f614c7bb033f6b7a72ed037}\label{ess__socket_8h_aeaa282f75f614c7bb033f6b7a72ed037}} 
\index{ess\+\_\+socket.\+h@{ess\+\_\+socket.\+h}!ess\+\_\+socket\+\_\+fam@{ess\+\_\+socket\+\_\+fam}}
\index{ess\+\_\+socket\+\_\+fam@{ess\+\_\+socket\+\_\+fam}!ess\+\_\+socket.\+h@{ess\+\_\+socket.\+h}}
\subsubsection{\texorpdfstring{ess\+\_\+socket\+\_\+fam}{ess\_socket\_fam}}
{\footnotesize\ttfamily enum \hyperlink{ess__socket_8h_aeaa282f75f614c7bb033f6b7a72ed037}{ess\+\_\+socket\+\_\+fam}}



which ip family are use 

\begin{DoxyEnumFields}{Enumerator}
\raisebox{\heightof{T}}[0pt][0pt]{\index{E\+S\+S\+\_\+\+S\+O\+C\+K\+E\+T\+\_\+\+F\+A\+M\+I\+L\+Y\+\_\+\+I\+P4@{E\+S\+S\+\_\+\+S\+O\+C\+K\+E\+T\+\_\+\+F\+A\+M\+I\+L\+Y\+\_\+\+I\+P4}!ess\+\_\+socket.\+h@{ess\+\_\+socket.\+h}}\index{ess\+\_\+socket.\+h@{ess\+\_\+socket.\+h}!E\+S\+S\+\_\+\+S\+O\+C\+K\+E\+T\+\_\+\+F\+A\+M\+I\+L\+Y\+\_\+\+I\+P4@{E\+S\+S\+\_\+\+S\+O\+C\+K\+E\+T\+\_\+\+F\+A\+M\+I\+L\+Y\+\_\+\+I\+P4}}}\mbox{\Hypertarget{ess__socket_8h_aeaa282f75f614c7bb033f6b7a72ed037a5e2c7645ba65720d7b828d111df09bb1}\label{ess__socket_8h_aeaa282f75f614c7bb033f6b7a72ed037a5e2c7645ba65720d7b828d111df09bb1}} 
E\+S\+S\+\_\+\+S\+O\+C\+K\+E\+T\+\_\+\+F\+A\+M\+I\+L\+Y\+\_\+\+I\+P4&Internet protocol version 4 \\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{E\+S\+S\+\_\+\+S\+O\+C\+K\+E\+T\+\_\+\+F\+A\+M\+I\+L\+Y\+\_\+\+I\+P6@{E\+S\+S\+\_\+\+S\+O\+C\+K\+E\+T\+\_\+\+F\+A\+M\+I\+L\+Y\+\_\+\+I\+P6}!ess\+\_\+socket.\+h@{ess\+\_\+socket.\+h}}\index{ess\+\_\+socket.\+h@{ess\+\_\+socket.\+h}!E\+S\+S\+\_\+\+S\+O\+C\+K\+E\+T\+\_\+\+F\+A\+M\+I\+L\+Y\+\_\+\+I\+P6@{E\+S\+S\+\_\+\+S\+O\+C\+K\+E\+T\+\_\+\+F\+A\+M\+I\+L\+Y\+\_\+\+I\+P6}}}\mbox{\Hypertarget{ess__socket_8h_aeaa282f75f614c7bb033f6b7a72ed037aff947ddfbc0a3d635ad83146dbaa3a72}\label{ess__socket_8h_aeaa282f75f614c7bb033f6b7a72ed037aff947ddfbc0a3d635ad83146dbaa3a72}} 
E\+S\+S\+\_\+\+S\+O\+C\+K\+E\+T\+\_\+\+F\+A\+M\+I\+L\+Y\+\_\+\+I\+P6&Internet protocol version 6 \\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{E\+S\+S\+\_\+\+S\+O\+C\+K\+E\+T\+\_\+\+F\+A\+M\+I\+L\+Y\+\_\+\+B\+O\+TH@{E\+S\+S\+\_\+\+S\+O\+C\+K\+E\+T\+\_\+\+F\+A\+M\+I\+L\+Y\+\_\+\+B\+O\+TH}!ess\+\_\+socket.\+h@{ess\+\_\+socket.\+h}}\index{ess\+\_\+socket.\+h@{ess\+\_\+socket.\+h}!E\+S\+S\+\_\+\+S\+O\+C\+K\+E\+T\+\_\+\+F\+A\+M\+I\+L\+Y\+\_\+\+B\+O\+TH@{E\+S\+S\+\_\+\+S\+O\+C\+K\+E\+T\+\_\+\+F\+A\+M\+I\+L\+Y\+\_\+\+B\+O\+TH}}}\mbox{\Hypertarget{ess__socket_8h_aeaa282f75f614c7bb033f6b7a72ed037a7376a04481497185206395231d23624d}\label{ess__socket_8h_aeaa282f75f614c7bb033f6b7a72ed037a7376a04481497185206395231d23624d}} 
E\+S\+S\+\_\+\+S\+O\+C\+K\+E\+T\+\_\+\+F\+A\+M\+I\+L\+Y\+\_\+\+B\+O\+TH&Unspec D\+NS resolver should decide. \\
\hline

\end{DoxyEnumFields}


Definition at line 38 of file ess\+\_\+socket.\+h.


\begin{DoxyCode}
38                             \{
39   \hyperlink{ess__socket_8h_aeaa282f75f614c7bb033f6b7a72ed037a5e2c7645ba65720d7b828d111df09bb1}{ESS\_SOCKET\_FAMILY\_IP4},       
40   \hyperlink{ess__socket_8h_aeaa282f75f614c7bb033f6b7a72ed037aff947ddfbc0a3d635ad83146dbaa3a72}{ESS\_SOCKET\_FAMILY\_IP6},      
41   \hyperlink{ess__socket_8h_aeaa282f75f614c7bb033f6b7a72ed037a7376a04481497185206395231d23624d}{ESS\_SOCKET\_FAMILY\_BOTH}   
42 \}\hyperlink{ess__socket_8h_a9305eae437d57846661e997bb755d150}{ess\_socket\_fam\_t};
\end{DoxyCode}
\mbox{\Hypertarget{ess__socket_8h_a2a924f6745a916783fa640cb1c7e1922}\label{ess__socket_8h_a2a924f6745a916783fa640cb1c7e1922}} 
\index{ess\+\_\+socket.\+h@{ess\+\_\+socket.\+h}!ess\+\_\+socket\+\_\+pro@{ess\+\_\+socket\+\_\+pro}}
\index{ess\+\_\+socket\+\_\+pro@{ess\+\_\+socket\+\_\+pro}!ess\+\_\+socket.\+h@{ess\+\_\+socket.\+h}}
\subsubsection{\texorpdfstring{ess\+\_\+socket\+\_\+pro}{ess\_socket\_pro}}
{\footnotesize\ttfamily enum \hyperlink{ess__socket_8h_a2a924f6745a916783fa640cb1c7e1922}{ess\+\_\+socket\+\_\+pro}}



which comunications protocol are use 

\begin{DoxyEnumFields}{Enumerator}
\raisebox{\heightof{T}}[0pt][0pt]{\index{E\+S\+S\+\_\+\+S\+O\+C\+K\+E\+T\+\_\+\+P\+R\+O\+T\+O\+\_\+\+D\+R\+AM@{E\+S\+S\+\_\+\+S\+O\+C\+K\+E\+T\+\_\+\+P\+R\+O\+T\+O\+\_\+\+D\+R\+AM}!ess\+\_\+socket.\+h@{ess\+\_\+socket.\+h}}\index{ess\+\_\+socket.\+h@{ess\+\_\+socket.\+h}!E\+S\+S\+\_\+\+S\+O\+C\+K\+E\+T\+\_\+\+P\+R\+O\+T\+O\+\_\+\+D\+R\+AM@{E\+S\+S\+\_\+\+S\+O\+C\+K\+E\+T\+\_\+\+P\+R\+O\+T\+O\+\_\+\+D\+R\+AM}}}\mbox{\Hypertarget{ess__socket_8h_a2a924f6745a916783fa640cb1c7e1922a93d8e041d336d1198151ca5cca210d34}\label{ess__socket_8h_a2a924f6745a916783fa640cb1c7e1922a93d8e041d336d1198151ca5cca210d34}} 
E\+S\+S\+\_\+\+S\+O\+C\+K\+E\+T\+\_\+\+P\+R\+O\+T\+O\+\_\+\+D\+R\+AM&U\+DP \\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{E\+S\+S\+\_\+\+S\+O\+C\+K\+E\+T\+\_\+\+P\+R\+O\+T\+O\+\_\+\+S\+T\+R\+E\+AM@{E\+S\+S\+\_\+\+S\+O\+C\+K\+E\+T\+\_\+\+P\+R\+O\+T\+O\+\_\+\+S\+T\+R\+E\+AM}!ess\+\_\+socket.\+h@{ess\+\_\+socket.\+h}}\index{ess\+\_\+socket.\+h@{ess\+\_\+socket.\+h}!E\+S\+S\+\_\+\+S\+O\+C\+K\+E\+T\+\_\+\+P\+R\+O\+T\+O\+\_\+\+S\+T\+R\+E\+AM@{E\+S\+S\+\_\+\+S\+O\+C\+K\+E\+T\+\_\+\+P\+R\+O\+T\+O\+\_\+\+S\+T\+R\+E\+AM}}}\mbox{\Hypertarget{ess__socket_8h_a2a924f6745a916783fa640cb1c7e1922acba46066923047105db966901c0e8904}\label{ess__socket_8h_a2a924f6745a916783fa640cb1c7e1922acba46066923047105db966901c0e8904}} 
E\+S\+S\+\_\+\+S\+O\+C\+K\+E\+T\+\_\+\+P\+R\+O\+T\+O\+\_\+\+S\+T\+R\+E\+AM&T\+CP \\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{E\+S\+S\+\_\+\+S\+O\+C\+K\+E\+T\+\_\+\+P\+R\+O\+T\+O\+\_\+\+D\+R\+A\+M\+\_\+\+L\+I\+TE@{E\+S\+S\+\_\+\+S\+O\+C\+K\+E\+T\+\_\+\+P\+R\+O\+T\+O\+\_\+\+D\+R\+A\+M\+\_\+\+L\+I\+TE}!ess\+\_\+socket.\+h@{ess\+\_\+socket.\+h}}\index{ess\+\_\+socket.\+h@{ess\+\_\+socket.\+h}!E\+S\+S\+\_\+\+S\+O\+C\+K\+E\+T\+\_\+\+P\+R\+O\+T\+O\+\_\+\+D\+R\+A\+M\+\_\+\+L\+I\+TE@{E\+S\+S\+\_\+\+S\+O\+C\+K\+E\+T\+\_\+\+P\+R\+O\+T\+O\+\_\+\+D\+R\+A\+M\+\_\+\+L\+I\+TE}}}\mbox{\Hypertarget{ess__socket_8h_a2a924f6745a916783fa640cb1c7e1922afb68fe5545329fb828acf269580e0be9}\label{ess__socket_8h_a2a924f6745a916783fa640cb1c7e1922afb68fe5545329fb828acf269580e0be9}} 
E\+S\+S\+\_\+\+S\+O\+C\+K\+E\+T\+\_\+\+P\+R\+O\+T\+O\+\_\+\+D\+R\+A\+M\+\_\+\+L\+I\+TE&U\+DP Lite \\
\hline

\end{DoxyEnumFields}


Definition at line 47 of file ess\+\_\+socket.\+h.


\begin{DoxyCode}
47                             \{
48   \hyperlink{ess__socket_8h_a2a924f6745a916783fa640cb1c7e1922a93d8e041d336d1198151ca5cca210d34}{ESS\_SOCKET\_PROTO\_DRAM},              
49   \hyperlink{ess__socket_8h_a2a924f6745a916783fa640cb1c7e1922acba46066923047105db966901c0e8904}{ESS\_SOCKET\_PROTO\_STREAM},         
50   \hyperlink{ess__socket_8h_a2a924f6745a916783fa640cb1c7e1922afb68fe5545329fb828acf269580e0be9}{ESS\_SOCKET\_PROTO\_DRAM\_LITE}, 
51 \}\hyperlink{ess__socket_8h_a1e8e8de805f8e0b7da25e3b177977273}{ess\_socket\_pro\_t};
\end{DoxyCode}
\mbox{\Hypertarget{ess__socket_8h_a85c5abde0574d4a5fbf9e220a18e89dc}\label{ess__socket_8h_a85c5abde0574d4a5fbf9e220a18e89dc}} 
\index{ess\+\_\+socket.\+h@{ess\+\_\+socket.\+h}!ess\+\_\+socket\+\_\+status@{ess\+\_\+socket\+\_\+status}}
\index{ess\+\_\+socket\+\_\+status@{ess\+\_\+socket\+\_\+status}!ess\+\_\+socket.\+h@{ess\+\_\+socket.\+h}}
\subsubsection{\texorpdfstring{ess\+\_\+socket\+\_\+status}{ess\_socket\_status}}
{\footnotesize\ttfamily enum \hyperlink{ess__socket_8h_a85c5abde0574d4a5fbf9e220a18e89dc}{ess\+\_\+socket\+\_\+status}}



\hyperlink{structess__socket}{ess\+\_\+socket} status 

\begin{DoxyEnumFields}{Enumerator}
\raisebox{\heightof{T}}[0pt][0pt]{\index{E\+S\+S\+\_\+\+S\+O\+C\+K\+E\+T\+\_\+\+S\+T\+A\+T\+U\+S\+\_\+\+C\+R\+E\+A\+T\+ED@{E\+S\+S\+\_\+\+S\+O\+C\+K\+E\+T\+\_\+\+S\+T\+A\+T\+U\+S\+\_\+\+C\+R\+E\+A\+T\+ED}!ess\+\_\+socket.\+h@{ess\+\_\+socket.\+h}}\index{ess\+\_\+socket.\+h@{ess\+\_\+socket.\+h}!E\+S\+S\+\_\+\+S\+O\+C\+K\+E\+T\+\_\+\+S\+T\+A\+T\+U\+S\+\_\+\+C\+R\+E\+A\+T\+ED@{E\+S\+S\+\_\+\+S\+O\+C\+K\+E\+T\+\_\+\+S\+T\+A\+T\+U\+S\+\_\+\+C\+R\+E\+A\+T\+ED}}}\mbox{\Hypertarget{ess__socket_8h_a85c5abde0574d4a5fbf9e220a18e89dca12156322e5e18ca7411b18dba57b9874}\label{ess__socket_8h_a85c5abde0574d4a5fbf9e220a18e89dca12156322e5e18ca7411b18dba57b9874}} 
E\+S\+S\+\_\+\+S\+O\+C\+K\+E\+T\+\_\+\+S\+T\+A\+T\+U\+S\+\_\+\+C\+R\+E\+A\+T\+ED&Socket is created and ready for using \\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{E\+S\+S\+\_\+\+S\+O\+C\+K\+E\+T\+\_\+\+S\+T\+A\+T\+U\+S\+\_\+\+L\+I\+S\+T\+EN@{E\+S\+S\+\_\+\+S\+O\+C\+K\+E\+T\+\_\+\+S\+T\+A\+T\+U\+S\+\_\+\+L\+I\+S\+T\+EN}!ess\+\_\+socket.\+h@{ess\+\_\+socket.\+h}}\index{ess\+\_\+socket.\+h@{ess\+\_\+socket.\+h}!E\+S\+S\+\_\+\+S\+O\+C\+K\+E\+T\+\_\+\+S\+T\+A\+T\+U\+S\+\_\+\+L\+I\+S\+T\+EN@{E\+S\+S\+\_\+\+S\+O\+C\+K\+E\+T\+\_\+\+S\+T\+A\+T\+U\+S\+\_\+\+L\+I\+S\+T\+EN}}}\mbox{\Hypertarget{ess__socket_8h_a85c5abde0574d4a5fbf9e220a18e89dca7ee468f68ee4bd3cfbcdc6bda032be83}\label{ess__socket_8h_a85c5abde0574d4a5fbf9e220a18e89dca7ee468f68ee4bd3cfbcdc6bda032be83}} 
E\+S\+S\+\_\+\+S\+O\+C\+K\+E\+T\+\_\+\+S\+T\+A\+T\+U\+S\+\_\+\+L\+I\+S\+T\+EN&server is running \\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{E\+S\+S\+\_\+\+S\+O\+C\+K\+E\+T\+\_\+\+S\+T\+A\+T\+U\+S\+\_\+\+S\+T\+O\+P\+P\+ED@{E\+S\+S\+\_\+\+S\+O\+C\+K\+E\+T\+\_\+\+S\+T\+A\+T\+U\+S\+\_\+\+S\+T\+O\+P\+P\+ED}!ess\+\_\+socket.\+h@{ess\+\_\+socket.\+h}}\index{ess\+\_\+socket.\+h@{ess\+\_\+socket.\+h}!E\+S\+S\+\_\+\+S\+O\+C\+K\+E\+T\+\_\+\+S\+T\+A\+T\+U\+S\+\_\+\+S\+T\+O\+P\+P\+ED@{E\+S\+S\+\_\+\+S\+O\+C\+K\+E\+T\+\_\+\+S\+T\+A\+T\+U\+S\+\_\+\+S\+T\+O\+P\+P\+ED}}}\mbox{\Hypertarget{ess__socket_8h_a85c5abde0574d4a5fbf9e220a18e89dca37cf1e968a55c1fffcf40faa6fe58bd2}\label{ess__socket_8h_a85c5abde0574d4a5fbf9e220a18e89dca37cf1e968a55c1fffcf40faa6fe58bd2}} 
E\+S\+S\+\_\+\+S\+O\+C\+K\+E\+T\+\_\+\+S\+T\+A\+T\+U\+S\+\_\+\+S\+T\+O\+P\+P\+ED&socket is close \\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{E\+S\+S\+\_\+\+S\+O\+C\+K\+E\+T\+\_\+\+S\+T\+A\+T\+U\+S\+\_\+\+E\+R\+R\+OR@{E\+S\+S\+\_\+\+S\+O\+C\+K\+E\+T\+\_\+\+S\+T\+A\+T\+U\+S\+\_\+\+E\+R\+R\+OR}!ess\+\_\+socket.\+h@{ess\+\_\+socket.\+h}}\index{ess\+\_\+socket.\+h@{ess\+\_\+socket.\+h}!E\+S\+S\+\_\+\+S\+O\+C\+K\+E\+T\+\_\+\+S\+T\+A\+T\+U\+S\+\_\+\+E\+R\+R\+OR@{E\+S\+S\+\_\+\+S\+O\+C\+K\+E\+T\+\_\+\+S\+T\+A\+T\+U\+S\+\_\+\+E\+R\+R\+OR}}}\mbox{\Hypertarget{ess__socket_8h_a85c5abde0574d4a5fbf9e220a18e89dcaa44487507568afb1224527edc59777bc}\label{ess__socket_8h_a85c5abde0574d4a5fbf9e220a18e89dcaa44487507568afb1224527edc59777bc}} 
E\+S\+S\+\_\+\+S\+O\+C\+K\+E\+T\+\_\+\+S\+T\+A\+T\+U\+S\+\_\+\+E\+R\+R\+OR&socket has an error \\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{E\+S\+S\+\_\+\+S\+O\+C\+K\+E\+T\+\_\+\+S\+T\+A\+T\+U\+S\+\_\+\+D\+E\+S\+T\+R\+OY@{E\+S\+S\+\_\+\+S\+O\+C\+K\+E\+T\+\_\+\+S\+T\+A\+T\+U\+S\+\_\+\+D\+E\+S\+T\+R\+OY}!ess\+\_\+socket.\+h@{ess\+\_\+socket.\+h}}\index{ess\+\_\+socket.\+h@{ess\+\_\+socket.\+h}!E\+S\+S\+\_\+\+S\+O\+C\+K\+E\+T\+\_\+\+S\+T\+A\+T\+U\+S\+\_\+\+D\+E\+S\+T\+R\+OY@{E\+S\+S\+\_\+\+S\+O\+C\+K\+E\+T\+\_\+\+S\+T\+A\+T\+U\+S\+\_\+\+D\+E\+S\+T\+R\+OY}}}\mbox{\Hypertarget{ess__socket_8h_a85c5abde0574d4a5fbf9e220a18e89dca5af7d3436478f96533b600da6a749ad9}\label{ess__socket_8h_a85c5abde0574d4a5fbf9e220a18e89dca5af7d3436478f96533b600da6a749ad9}} 
E\+S\+S\+\_\+\+S\+O\+C\+K\+E\+T\+\_\+\+S\+T\+A\+T\+U\+S\+\_\+\+D\+E\+S\+T\+R\+OY&socket is destroyed \\
\hline

\end{DoxyEnumFields}


Definition at line 56 of file ess\+\_\+socket.\+h.


\begin{DoxyCode}
56                                \{
57   \hyperlink{ess__socket_8h_a85c5abde0574d4a5fbf9e220a18e89dca12156322e5e18ca7411b18dba57b9874}{ESS\_SOCKET\_STATUS\_CREATED},    
58   \hyperlink{ess__socket_8h_a85c5abde0574d4a5fbf9e220a18e89dca7ee468f68ee4bd3cfbcdc6bda032be83}{ESS\_SOCKET\_STATUS\_LISTEN},         
59   \hyperlink{ess__socket_8h_a85c5abde0574d4a5fbf9e220a18e89dca37cf1e968a55c1fffcf40faa6fe58bd2}{ESS\_SOCKET\_STATUS\_STOPPED},    
60   \hyperlink{ess__socket_8h_a85c5abde0574d4a5fbf9e220a18e89dcaa44487507568afb1224527edc59777bc}{ESS\_SOCKET\_STATUS\_ERROR},       
61   \hyperlink{ess__socket_8h_a85c5abde0574d4a5fbf9e220a18e89dca5af7d3436478f96533b600da6a749ad9}{ESS\_SOCKET\_STATUS\_DESTROY}   
62 \}\hyperlink{ess__socket_8h_ae3a6dc482fc34f9ea0361820ba4be573}{ess\_socket\_status\_t};
\end{DoxyCode}


\subsection{Function Documentation}
\mbox{\Hypertarget{ess__socket_8h_aa50935ade25f18193eae883d52936d35}\label{ess__socket_8h_aa50935ade25f18193eae883d52936d35}} 
\index{ess\+\_\+socket.\+h@{ess\+\_\+socket.\+h}!ess\+\_\+get\+\_\+address\+\_\+family@{ess\+\_\+get\+\_\+address\+\_\+family}}
\index{ess\+\_\+get\+\_\+address\+\_\+family@{ess\+\_\+get\+\_\+address\+\_\+family}!ess\+\_\+socket.\+h@{ess\+\_\+socket.\+h}}
\subsubsection{\texorpdfstring{ess\+\_\+get\+\_\+address\+\_\+family()}{ess\_get\_address\_family()}}
{\footnotesize\ttfamily \hyperlink{ess__socket_8h_a9305eae437d57846661e997bb755d150}{ess\+\_\+socket\+\_\+fam\+\_\+t} ess\+\_\+get\+\_\+address\+\_\+family (\begin{DoxyParamCaption}\item[{const char $\ast$}]{hostname }\end{DoxyParamCaption})}



Look up which address families a host supports. 

If you want to send a datagram to a host but you don\textquotesingle{}t know if it supports I\+Pv4 or I\+Pv6, use this function.


\begin{DoxyParams}{Parameters}
{\em hostname} & The hostname of the host you want to look up.\\
\hline
\end{DoxyParams}

\begin{DoxyRetVals}{Return values}
{\em E\+S\+S\+\_\+\+S\+O\+C\+K\+E\+T\+\_\+\+F\+A\+M\+I\+L\+Y\+\_\+\+I\+P4} & Host supports only I\+P4 \\
\hline
{\em E\+S\+S\+\_\+\+S\+O\+C\+K\+E\+T\+\_\+\+F\+A\+M\+I\+L\+Y\+\_\+\+I\+P6} & Host supports I\+P6 and I\+P4 \\
\hline
{\em $<$0} & Error. \\
\hline
\end{DoxyRetVals}


Definition at line 47 of file ess\+\_\+socket.\+c.


\begin{DoxyCode}
47                                                               \{
48   \hyperlink{ess__socket_8h_a9305eae437d57846661e997bb755d150}{ess\_socket\_fam\_t} return\_value = -1;
49   \textcolor{keyword}{struct }addrinfo hint, *result;
50   \textcolor{keywordtype}{int} af = -1;
51 
52   \textcolor{keywordflow}{if} ( hostname == NULL ) \textcolor{keywordflow}{return} -1;
53   memset(&hint,0,\textcolor{keyword}{sizeof} hint);
54   hint.ai\_family = AF\_UNSPEC;
55 
56   \textcolor{keywordflow}{if} ( 0 != (return\_value = getaddrinfo(hostname,\textcolor{stringliteral}{"0"},&hint,&result)))   \textcolor{keywordflow}{return} -1;
57   \textcolor{keywordflow}{if} ( result == NULL ) \textcolor{keywordflow}{return} -1;
58 
59   \textcolor{keywordflow}{switch} (result->ai\_family) \{
60     \textcolor{keywordflow}{case} AF\_INET:   af = \hyperlink{ess__socket_8h_aeaa282f75f614c7bb033f6b7a72ed037a5e2c7645ba65720d7b828d111df09bb1}{ESS\_SOCKET\_FAMILY\_IP4}; \textcolor{keywordflow}{break};
61     \textcolor{keywordflow}{case} AF\_INET6: af= \hyperlink{ess__socket_8h_aeaa282f75f614c7bb033f6b7a72ed037aff947ddfbc0a3d635ad83146dbaa3a72}{ESS\_SOCKET\_FAMILY\_IP6}; \textcolor{keywordflow}{break};
62   \};
63   \textcolor{keywordflow}{return} af;
64 \}
\end{DoxyCode}
\mbox{\Hypertarget{ess__socket_8h_ac205e3a8f4f3786d88d5462ab8847414}\label{ess__socket_8h_ac205e3a8f4f3786d88d5462ab8847414}} 
\index{ess\+\_\+socket.\+h@{ess\+\_\+socket.\+h}!ess\+\_\+socket\+\_\+accept@{ess\+\_\+socket\+\_\+accept}}
\index{ess\+\_\+socket\+\_\+accept@{ess\+\_\+socket\+\_\+accept}!ess\+\_\+socket.\+h@{ess\+\_\+socket.\+h}}
\subsubsection{\texorpdfstring{ess\+\_\+socket\+\_\+accept()}{ess\_socket\_accept()}}
{\footnotesize\ttfamily \hyperlink{ess__socket_8h_ab7457db5cd500e7f0d74d0bc07356663}{ess\+\_\+socket\+\_\+t}$\ast$ ess\+\_\+socket\+\_\+accept (\begin{DoxyParamCaption}\item[{\hyperlink{ess__socket_8h_ab7457db5cd500e7f0d74d0bc07356663}{ess\+\_\+socket\+\_\+t} $\ast$}]{server\+\_\+socket,  }\item[{\hyperlink{ess__error_8h_a08ab97fcf6745dee67de912e41bd3236}{ess\+\_\+error\+\_\+t} $\ast$}]{error\+\_\+code }\end{DoxyParamCaption})}



accept a connection attempt on a server socket. 

This function accepts an incoming connection on a server socket.


\begin{DoxyParams}{Parameters}
{\em server\+\_\+socket} & the server socket \\
\hline
{\em error\+\_\+code} & \\
\hline
\end{DoxyParams}

\begin{DoxyRetVals}{Return values}
{\em !=} & 0 A the client socket \\
\hline
{\em N\+U\+LL} & Error see paramerter \textquotesingle{}error\+\_\+code\textquotesingle{} \\
\hline
\end{DoxyRetVals}


Definition at line 180 of file ess\+\_\+socket.\+c.


\begin{DoxyCode}
180                                                                                       \{
181   \textcolor{keywordflow}{if}(server\_socket == 0) \{ \textcolor{keywordflow}{if}(error\_code != 0) *error\_code = \hyperlink{ess__error_8h_a3a40ffb47f45a17c8989af8286e7a07fa96978468215ef7117c99232e72d7fb39}{ESS\_ERROR\_NULL}; \textcolor{keywordflow}{return} 0; \}
182 
183   \hyperlink{structess__socket}{ess\_socket\_t} *client\_socket;
184   \textcolor{keywordtype}{int}  nbl = 0;
185   \textcolor{keyword}{struct }sockaddr\_in incoming;
186   \textcolor{keyword}{struct }sockaddr\_in6 incoming6;
187   \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} size\_in6 = \textcolor{keyword}{sizeof}(\textcolor{keyword}{struct }sockaddr\_in6);
188   \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} size\_in = \textcolor{keyword}{sizeof}(\textcolor{keyword}{struct }sockaddr\_in);
189 
190   \textcolor{comment}{//socklen\_t addrlen = sizeof(struct sockaddr\_storage);}
191 
192 
193   client\_socket = (\hyperlink{structess__socket}{ess\_socket\_t}*)malloc(\textcolor{keyword}{sizeof}(\hyperlink{structess__socket}{ess\_socket\_t}));
194   \textcolor{keywordflow}{if}(client\_socket == 0) \textcolor{keywordflow}{return} 0;
195 
196   client\_socket->\hyperlink{structess__socket_a4d0d74743d167680649419163ce8c80e}{hostname\_len} = INET6\_ADDRSTRLEN;
197 
198   \textcolor{keywordflow}{if}(server\_socket->\hyperlink{structess__socket_ad09623d57ebd33fef8dac4e18c0cba2f}{family} == \hyperlink{ess__socket_8h_aeaa282f75f614c7bb033f6b7a72ed037a5e2c7645ba65720d7b828d111df09bb1}{ESS\_SOCKET\_FAMILY\_IP4}) \{
199 
200     \textcolor{keywordflow}{if} ( (client\_socket->\hyperlink{structess__socket_a3666576f6b88007cc7b8f26c7da596c8}{socket} = accept(server\_socket->\hyperlink{structess__socket_a3666576f6b88007cc7b8f26c7da596c8}{socket}, (\textcolor{keyword}{struct} sockaddr*)&incoming, (
      socklen\_t *) &size\_in)) != 0) \{
201       \textcolor{keywordflow}{if}(error\_code != 0) *error\_code = \hyperlink{ess__error_8h_a3a40ffb47f45a17c8989af8286e7a07fa96978468215ef7117c99232e72d7fb39}{ESS\_ERROR\_NULL};
202       \textcolor{keywordflow}{return} 0;
203     \}
204 
205     \textcolor{keywordflow}{if}(server\_socket->\hyperlink{structess__socket_a1f0429596710512357072b192ba3d2bd}{protokol} == \hyperlink{ess__socket_8h_a2a924f6745a916783fa640cb1c7e1922acba46066923047105db966901c0e8904}{ESS\_SOCKET\_PROTO\_STREAM}) \{
206       server\_socket->\hyperlink{structess__socket_a938bdc6ae46c346147b6d4f67ad1e704}{port}  = ntohs( incoming.sin\_port );
207           \textcolor{keywordtype}{long} addr = ntohl( incoming.sin\_addr.s\_addr );
208 
209       client\_socket->\hyperlink{structess__socket_a0c6be700c8763c26054098348ebef8d6}{hostname}[0] = \textcolor{charliteral}{'\(\backslash\)0'};
210       snprintf(client\_socket->\hyperlink{structess__socket_a0c6be700c8763c26054098348ebef8d6}{hostname},  client\_socket->\hyperlink{structess__socket_a4d0d74743d167680649419163ce8c80e}{hostname\_len}, \textcolor{stringliteral}{"
      %03u.%03u.%03u.%03u"},
211         (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int}) addr >> 24,  (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int}) (addr >> 16) % 256,  (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int}) (addr >> 8) % 256,
212         (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int}) addr % 256 );
213       client\_socket->\hyperlink{structess__socket_a4d0d74743d167680649419163ce8c80e}{hostname\_len} = strlen(client\_socket->\hyperlink{structess__socket_a0c6be700c8763c26054098348ebef8d6}{hostname});
214     \}
215 
216   \} \textcolor{keywordflow}{else} \{
217 
218     \textcolor{keywordflow}{if} ( (client\_socket->\hyperlink{structess__socket_a3666576f6b88007cc7b8f26c7da596c8}{socket} = accept( server\_socket->\hyperlink{structess__socket_a3666576f6b88007cc7b8f26c7da596c8}{socket},(\textcolor{keyword}{struct} sockaddr *)&incoming6, 
      (socklen\_t *) &size\_in6 )) != 0) \{
219       \textcolor{keywordflow}{if}(error\_code != 0) *error\_code = \hyperlink{ess__error_8h_a3a40ffb47f45a17c8989af8286e7a07fa96978468215ef7117c99232e72d7fb39}{ESS\_ERROR\_NULL};
220       \textcolor{keywordflow}{return} 0;
221     \}
222 
223     \textcolor{keywordtype}{char} addrbuf[INET6\_ADDRSTRLEN];
224     addrbuf[0] = \textcolor{charliteral}{'\(\backslash\)0'};
225 
226     client\_socket->\hyperlink{structess__socket_a938bdc6ae46c346147b6d4f67ad1e704}{port} = ntohs( incoming6.sin6\_port );
227 
228     \textcolor{keywordflow}{if} ( inet\_ntop( AF\_INET6, &(incoming6.sin6\_addr), addrbuf, \textcolor{keyword}{sizeof}(addrbuf) )) \{
229       ESP\_LOGI(\textcolor{stringliteral}{"EssS"}, \textcolor{stringliteral}{"client from :%s/%d"}, addrbuf, client\_socket->\hyperlink{structess__socket_a938bdc6ae46c346147b6d4f67ad1e704}{port});
230       client\_socket->\hyperlink{structess__socket_a0c6be700c8763c26054098348ebef8d6}{hostname}[0] = \textcolor{charliteral}{'\(\backslash\)0'};
231       strncpy(client\_socket->\hyperlink{structess__socket_a0c6be700c8763c26054098348ebef8d6}{hostname},  addrbuf,  strlen(addrbuf) );
232     \}
233   \}
234 
235   \textcolor{keywordflow}{if} ( ioctl( client\_socket->\hyperlink{structess__socket_a3666576f6b88007cc7b8f26c7da596c8}{socket} , FIONBIO, &nbl ) < 0 ) \{
236     ESP\_LOGE(\textcolor{stringliteral}{"EssS"}, \textcolor{stringliteral}{"(%02d) couldn't turn on blocking for client"},  client\_socket->
      \hyperlink{structess__socket_a3666576f6b88007cc7b8f26c7da596c8}{socket} );
237     client\_socket->\hyperlink{structess__socket_a4e47521e8af756b9edf77f1f02f9b725}{status} = \hyperlink{ess__socket_8h_a85c5abde0574d4a5fbf9e220a18e89dcaa44487507568afb1224527edc59777bc}{ESS\_SOCKET\_STATUS\_ERROR};
238     \textcolor{keywordflow}{if}(error\_code != 0) \{ *error\_code = \hyperlink{ess__error_8h_a3a40ffb47f45a17c8989af8286e7a07fa96978468215ef7117c99232e72d7fb39}{ESS\_ERROR\_NULL}; \textcolor{keywordflow}{return} 0; \}
239 
240     close(client\_socket->\hyperlink{structess__socket_a3666576f6b88007cc7b8f26c7da596c8}{socket});
241   \}
242   \textcolor{keywordflow}{return} client\_socket;
243 \}
\end{DoxyCode}
\mbox{\Hypertarget{ess__socket_8h_af007b9ad6c587c0e1c30a2e9fd883da3}\label{ess__socket_8h_af007b9ad6c587c0e1c30a2e9fd883da3}} 
\index{ess\+\_\+socket.\+h@{ess\+\_\+socket.\+h}!ess\+\_\+socket\+\_\+close@{ess\+\_\+socket\+\_\+close}}
\index{ess\+\_\+socket\+\_\+close@{ess\+\_\+socket\+\_\+close}!ess\+\_\+socket.\+h@{ess\+\_\+socket.\+h}}
\subsubsection{\texorpdfstring{ess\+\_\+socket\+\_\+close()}{ess\_socket\_close()}}
{\footnotesize\ttfamily \hyperlink{ess__error_8h_a08ab97fcf6745dee67de912e41bd3236}{ess\+\_\+error\+\_\+t} ess\+\_\+socket\+\_\+close (\begin{DoxyParamCaption}\item[{\hyperlink{ess__socket_8h_ab7457db5cd500e7f0d74d0bc07356663}{ess\+\_\+socket\+\_\+t} $\ast$}]{socket }\end{DoxyParamCaption})}



Close a socket. 

This function closes a socket.


\begin{DoxyParams}{Parameters}
{\em socket} & the using socket struct\\
\hline
\end{DoxyParams}

\begin{DoxyRetVals}{Return values}
{\em E\+S\+S\+\_\+\+OK} & Closed socket successfully \\
\hline
{\em E\+S\+S\+\_\+\+E\+R\+R\+O\+R\+\_\+\+N\+U\+LL} & socket was N\+U\+LL \\
\hline
{\em E\+S\+S\+\_\+\+E\+R\+R\+O\+R\+\_\+\+C\+L\+O\+SE} & Socket was already closed (other errors are very unlikely to occur) \\
\hline
\end{DoxyRetVals}


Definition at line 130 of file ess\+\_\+socket.\+c.


\begin{DoxyCode}
130                                                     \{
131   \textcolor{keywordflow}{if}(\_socket == 0) \textcolor{keywordflow}{return} \hyperlink{ess__error_8h_a3a40ffb47f45a17c8989af8286e7a07fa96978468215ef7117c99232e72d7fb39}{ESS\_ERROR\_NULL};
132 
133   \textcolor{keywordflow}{if} (  (\_socket->retval  = close(\_socket->socket))  != 0 ) \{
134     \_socket->status = \hyperlink{ess__socket_8h_a85c5abde0574d4a5fbf9e220a18e89dcaa44487507568afb1224527edc59777bc}{ESS\_SOCKET\_STATUS\_ERROR};
135     \textcolor{keywordflow}{return} \hyperlink{ess__error_8h_a3a40ffb47f45a17c8989af8286e7a07fa3c103cfeedd28b98ed4c47427b1b69ca}{ESS\_ERROR\_CLOSE};
136   \}
137   \textcolor{keywordflow}{return} \hyperlink{ess__error_8h_a3a40ffb47f45a17c8989af8286e7a07fa7a39eb24d172b29cca7678967088d864}{ESS\_OK};
138 \}
\end{DoxyCode}
\mbox{\Hypertarget{ess__socket_8h_a41ea07f9f56e4572955f73f0f237826a}\label{ess__socket_8h_a41ea07f9f56e4572955f73f0f237826a}} 
\index{ess\+\_\+socket.\+h@{ess\+\_\+socket.\+h}!ess\+\_\+socket\+\_\+connect\+\_\+dram@{ess\+\_\+socket\+\_\+connect\+\_\+dram}}
\index{ess\+\_\+socket\+\_\+connect\+\_\+dram@{ess\+\_\+socket\+\_\+connect\+\_\+dram}!ess\+\_\+socket.\+h@{ess\+\_\+socket.\+h}}
\subsubsection{\texorpdfstring{ess\+\_\+socket\+\_\+connect\+\_\+dram()}{ess\_socket\_connect\_dram()}}
{\footnotesize\ttfamily \hyperlink{ess__error_8h_a08ab97fcf6745dee67de912e41bd3236}{ess\+\_\+error\+\_\+t} ess\+\_\+socket\+\_\+connect\+\_\+dram (\begin{DoxyParamCaption}\item[{\hyperlink{ess__socket_8h_ab7457db5cd500e7f0d74d0bc07356663}{ess\+\_\+socket\+\_\+t} $\ast$}]{socket,  }\item[{const char $\ast$}]{hostname,  }\item[{int}]{port }\end{DoxyParamCaption})}



connect a new U\+DP socket 

This function returns a working client U\+DP socket.


\begin{DoxyParams}{Parameters}
{\em hostname} & The host the socket will be connected to (everything resolvable, e.\+g. \char`\"{}\+::1\char`\"{}, \char`\"{}8.\+8.\+8.\+8\char`\"{}, \char`\"{}example.\+com\char`\"{}) \\
\hline
{\em port} & The host\textquotesingle{}s port. \\
\hline
{\em family} & {\ttfamily E\+S\+S\+\_\+\+S\+O\+C\+K\+E\+T\+\_\+\+F\+A\+M\+I\+L\+Y\+\_\+\+I\+P6} or {\ttfamily E\+S\+S\+\_\+\+S\+O\+C\+K\+E\+T\+\_\+\+F\+A\+M\+I\+L\+Y\+\_\+\+I\+P4}. \\
\hline
{\em prot} & {\ttfamily E\+S\+S\+\_\+\+S\+O\+C\+K\+E\+T\+\_\+\+P\+R\+O\+T\+O\+\_\+\+D\+R\+AM} or {\ttfamily E\+S\+S\+\_\+\+S\+O\+C\+K\+E\+T\+\_\+\+P\+R\+O\+T\+O\+\_\+\+D\+R\+A\+M\+\_\+\+L\+I\+TE} \\
\hline
{\em error\+\_\+code} & E\+S\+S\+\_\+\+E\+R\+R\+O\+R\+\_\+\+N\+U\+LL hostname was N\+U\+LL\\
\hline
\end{DoxyParams}

\begin{DoxyRetVals}{Return values}
{\em N\+U\+LL} & Error see paramerter \textquotesingle{}error\+\_\+code\textquotesingle{} \\
\hline
\end{DoxyRetVals}
\begin{DoxyReturn}{Returns}
A valid socket. 
\end{DoxyReturn}


Definition at line 356 of file ess\+\_\+socket.\+c.


\begin{DoxyCode}
356                                                                                         \{
357 
358   \textcolor{keyword}{struct }addrinfo *result, *result\_check, hint;
359   \textcolor{keyword}{struct }sockaddr\_storage oldsockaddr;
360   socklen\_t oldsockaddrlen = \textcolor{keyword}{sizeof}(\textcolor{keyword}{struct }sockaddr\_storage);
361   \textcolor{keywordtype}{char} buffer[8]; buffer[0] = \textcolor{charliteral}{'\(\backslash\)0'};
362 
363 
364   snprintf(buffer, 8,\textcolor{stringliteral}{"%d"},port) ;
365 
366   \textcolor{keywordflow}{if} ( host == NULL ) \{
367     \textcolor{keywordflow}{return} 0;
368   \}
369 
370   \textcolor{comment}{//TODO: Create new ERROR Codes}
371 
372   \textcolor{keywordflow}{if} ( -1 == getsockname(\_socket->socket,(\textcolor{keyword}{struct} sockaddr*)&oldsockaddr,&oldsockaddrlen) )\{
373     \textcolor{keywordflow}{return} \hyperlink{ess__error_8h_a3a40ffb47f45a17c8989af8286e7a07faa28e2c57627994f0cfa08dd3b4e28b97}{ESS\_ERROR};
374   \}
375 
376   \textcolor{keywordflow}{if} ( oldsockaddrlen > \textcolor{keyword}{sizeof}(\textcolor{keyword}{struct} sockaddr\_storage) ) \{
377     \textcolor{keywordflow}{return} \hyperlink{ess__error_8h_a3a40ffb47f45a17c8989af8286e7a07faa28e2c57627994f0cfa08dd3b4e28b97}{ESS\_ERROR};
378   \}
379 
380   memset(&hint,0,\textcolor{keyword}{sizeof}(\textcolor{keyword}{struct} addrinfo));
381 
382   hint.ai\_family = ((\textcolor{keyword}{struct }sockaddr\_in*)&oldsockaddr)->sin\_family; \textcolor{comment}{// AF\_INET or AF\_INET6 - offset is same
       at sockaddr\_in and sockaddr\_in6}
383 
384   hint.ai\_socktype =  SOCK\_DGRAM;
385 
386   \textcolor{keywordflow}{if} (  getaddrinfo(host,buffer,&hint,&result) != 0) \{
387     \textcolor{keywordflow}{return} \hyperlink{ess__error_8h_a3a40ffb47f45a17c8989af8286e7a07fa27d1d29e5376284759ed12c811b4d94e}{ESS\_ERROR\_GETADDR};
388   \}
389 
390   \textcolor{keywordflow}{for} ( result\_check = result; result\_check != NULL; result\_check = result\_check->ai\_next ) \{ \textcolor{comment}{// go through
       the linked list of struct addrinfo elements}
391     \textcolor{keywordflow}{if} (  connect(\_socket->socket,result\_check->ai\_addr,result\_check->ai\_addrlen) != -1) \textcolor{comment}{// connected
       without error}
392         \textcolor{keywordflow}{break};
393 
394     \textcolor{keywordflow}{if} ( result\_check == 0 ) \{
395       \textcolor{keywordflow}{return} \hyperlink{ess__error_8h_a3a40ffb47f45a17c8989af8286e7a07faa30baabd6fe0c3ccddb08d1692308f0e}{ESS\_ERROR\_CONNECT};
396     \}
397   \}
398   freeaddrinfo(result);
399 
400   \_socket->hostname\_len = strlen(host);
401   strncpy(\_socket->hostname, host, \_socket->hostname\_len);
402   \_socket->port = port;
403 
404   \textcolor{keywordflow}{return} \hyperlink{ess__error_8h_a3a40ffb47f45a17c8989af8286e7a07fa7a39eb24d172b29cca7678967088d864}{ESS\_OK};
405 \}
\end{DoxyCode}
\mbox{\Hypertarget{ess__socket_8h_adef36f85812a91bfa3ded44e273d4c18}\label{ess__socket_8h_adef36f85812a91bfa3ded44e273d4c18}} 
\index{ess\+\_\+socket.\+h@{ess\+\_\+socket.\+h}!ess\+\_\+socket\+\_\+connect\+\_\+stream@{ess\+\_\+socket\+\_\+connect\+\_\+stream}}
\index{ess\+\_\+socket\+\_\+connect\+\_\+stream@{ess\+\_\+socket\+\_\+connect\+\_\+stream}!ess\+\_\+socket.\+h@{ess\+\_\+socket.\+h}}
\subsubsection{\texorpdfstring{ess\+\_\+socket\+\_\+connect\+\_\+stream()}{ess\_socket\_connect\_stream()}}
{\footnotesize\ttfamily \hyperlink{ess__socket_8h_ab7457db5cd500e7f0d74d0bc07356663}{ess\+\_\+socket\+\_\+t}$\ast$ ess\+\_\+socket\+\_\+connect\+\_\+stream (\begin{DoxyParamCaption}\item[{const char $\ast$}]{hostname,  }\item[{int}]{port,  }\item[{\hyperlink{ess__socket_8h_a9305eae437d57846661e997bb755d150}{ess\+\_\+socket\+\_\+fam\+\_\+t}}]{family,  }\item[{int}]{flags,  }\item[{\hyperlink{ess__error_8h_a08ab97fcf6745dee67de912e41bd3236}{ess\+\_\+error\+\_\+t} $\ast$}]{error\+\_\+code }\end{DoxyParamCaption})}



Create and connect a new T\+C\+P/\+IP socket. 

This function returns a working client T\+C\+P/\+IP socket.


\begin{DoxyParams}{Parameters}
{\em hostname} & The host the socket will be connected to (everything resolvable, e.\+g. \char`\"{}\+::1\char`\"{}, \char`\"{}8.\+8.\+8.\+8\char`\"{}, \char`\"{}example.\+com\char`\"{}) \\
\hline
{\em port} & The host\textquotesingle{}s port. \\
\hline
{\em family} & {\ttfamily E\+S\+S\+\_\+\+S\+O\+C\+K\+E\+T\+\_\+\+F\+A\+M\+I\+L\+Y\+\_\+\+I\+P6} or {\ttfamily E\+S\+S\+\_\+\+S\+O\+C\+K\+E\+T\+\_\+\+F\+A\+M\+I\+L\+Y\+\_\+\+I\+P4}. \\
\hline
{\em flags} & Flags to be passed to {\ttfamily socket(2)}. Most flags are Linux-\/only! \\
\hline
{\em error\+\_\+code} & E\+S\+S\+\_\+\+E\+R\+R\+O\+R\+\_\+\+N\+U\+LL hostname was N\+U\+LL\\
\hline
\end{DoxyParams}

\begin{DoxyRetVals}{Return values}
{\em N\+U\+LL} & Error see paramerter \textquotesingle{}error\+\_\+code\textquotesingle{} \\
\hline
\end{DoxyRetVals}
\begin{DoxyReturn}{Returns}
A valid socket. 
\end{DoxyReturn}


Definition at line 252 of file ess\+\_\+socket.\+c.


\begin{DoxyCode}
252                                                                                                            
                                 \{
253   \textcolor{keywordflow}{if}(hostname == NULL) \{ \textcolor{keywordflow}{if}(error\_code != 0) \{ *error\_code = \hyperlink{ess__error_8h_a3a40ffb47f45a17c8989af8286e7a07fa96978468215ef7117c99232e72d7fb39}{ESS\_ERROR\_NULL}; \} \textcolor{keywordflow}{return} 0; \}
254 
255   \textcolor{keywordtype}{int} sfd;
256   \textcolor{keyword}{struct }addrinfo hint, *result, *result\_check;
257   \hyperlink{structess__socket}{ess\_socket\_t}* new\_socket;
258   \textcolor{keywordtype}{char} buffer[8]; buffer[0] = \textcolor{charliteral}{'\(\backslash\)0'};
259 
260   memset(&hint,0,\textcolor{keyword}{sizeof} hint);
261 
262   \textcolor{keywordflow}{switch} ( family ) \{
263     \textcolor{keywordflow}{case} \hyperlink{ess__socket_8h_aeaa282f75f614c7bb033f6b7a72ed037a5e2c7645ba65720d7b828d111df09bb1}{ESS\_SOCKET\_FAMILY\_IP4}: hint.ai\_family = AF\_INET; \textcolor{keywordflow}{break};
264     \textcolor{keywordflow}{case} \hyperlink{ess__socket_8h_aeaa282f75f614c7bb033f6b7a72ed037aff947ddfbc0a3d635ad83146dbaa3a72}{ESS\_SOCKET\_FAMILY\_IP6}: hint.ai\_family = AF\_INET6; \textcolor{keywordflow}{break};
265     \textcolor{keywordflow}{default}: hint.ai\_family = AF\_UNSPEC;
266   \}
267 
268 
269   hint.ai\_socktype = SOCK\_STREAM;
270 
271 
272   snprintf(buffer, 8,\textcolor{stringliteral}{"%d"},port) ;
273 
274   \textcolor{keywordflow}{if} (   getaddrinfo(hostname,buffer,&hint,&result) != 0) \{
275     \textcolor{keywordflow}{if}(error\_code != 0) \{ *error\_code = \hyperlink{ess__error_8h_a3a40ffb47f45a17c8989af8286e7a07fa27d1d29e5376284759ed12c811b4d94e}{ESS\_ERROR\_GETADDR}; \}
276     \textcolor{keywordflow}{return} 0;
277   \}
278 
279   \textcolor{keywordflow}{for} ( result\_check = result; result\_check != 0; result\_check = result\_check->ai\_next )  \{ \textcolor{comment}{// go through
       the linked list of struct addrinfo elements}
280       sfd = socket(result\_check->ai\_family, result\_check->ai\_socktype | flags, result\_check->ai\_protocol);
281 
282       \textcolor{keywordflow}{if} ( sfd < 0 )  \textcolor{keywordflow}{continue};
283 
284       \textcolor{keywordflow}{if} (  connect(sfd,result\_check->ai\_addr,result\_check->ai\_addrlen)  != -1) \textcolor{comment}{// connected without error}
285         \textcolor{keywordflow}{break};
286         close(sfd);
287   \}
288   freeaddrinfo(result);
289 
290   \textcolor{keywordflow}{if} ( result\_check == 0 ) \{
291     \textcolor{keywordflow}{if}(error\_code != 0) \{ *error\_code = \hyperlink{ess__error_8h_a3a40ffb47f45a17c8989af8286e7a07fa27d1d29e5376284759ed12c811b4d94e}{ESS\_ERROR\_GETADDR}; \}
292     \textcolor{keywordflow}{return} 0;
293   \}
294   \textcolor{comment}{// Yes :)}
295   new\_socket = (\hyperlink{structess__socket}{ess\_socket\_t}*)malloc(\textcolor{keyword}{sizeof}(\hyperlink{structess__socket}{ess\_socket\_t}));
296   \textcolor{keywordflow}{if}(new\_socket == 0) \{
297     \textcolor{keywordflow}{if}(error\_code != 0) \{ *error\_code = \hyperlink{ess__error_8h_a3a40ffb47f45a17c8989af8286e7a07fa6a45eefc15738cbbc15b5ef516da1c69}{ESS\_ERROR\_OUTOFMEM}; \}
298     \textcolor{keywordflow}{return} 0;
299   \}
300   new\_socket->\hyperlink{structess__socket_a3666576f6b88007cc7b8f26c7da596c8}{socket} = sfd;
301 
302   strncpy(new\_socket->\hyperlink{structess__socket_a0c6be700c8763c26054098348ebef8d6}{hostname}, hostname, strlen(hostname));
303 
304   new\_socket->\hyperlink{structess__socket_a938bdc6ae46c346147b6d4f67ad1e704}{port} = port;
305   new\_socket->\hyperlink{structess__socket_ad09623d57ebd33fef8dac4e18c0cba2f}{family} = family;
306   new\_socket->\hyperlink{structess__socket_a1f0429596710512357072b192ba3d2bd}{protokol} = \hyperlink{ess__socket_8h_a2a924f6745a916783fa640cb1c7e1922acba46066923047105db966901c0e8904}{ESS\_SOCKET\_PROTO\_STREAM};
307 
308   \textcolor{keywordflow}{return} new\_socket;
309 \}
\end{DoxyCode}
\mbox{\Hypertarget{ess__socket_8h_a78d5b3a7daf7c40ab4b3a30ef8205ccc}\label{ess__socket_8h_a78d5b3a7daf7c40ab4b3a30ef8205ccc}} 
\index{ess\+\_\+socket.\+h@{ess\+\_\+socket.\+h}!ess\+\_\+socket\+\_\+create\+\_\+dram@{ess\+\_\+socket\+\_\+create\+\_\+dram}}
\index{ess\+\_\+socket\+\_\+create\+\_\+dram@{ess\+\_\+socket\+\_\+create\+\_\+dram}!ess\+\_\+socket.\+h@{ess\+\_\+socket.\+h}}
\subsubsection{\texorpdfstring{ess\+\_\+socket\+\_\+create\+\_\+dram()}{ess\_socket\_create\_dram()}}
{\footnotesize\ttfamily \hyperlink{ess__socket_8h_ab7457db5cd500e7f0d74d0bc07356663}{ess\+\_\+socket\+\_\+t}$\ast$ ess\+\_\+socket\+\_\+create\+\_\+dram (\begin{DoxyParamCaption}\item[{\hyperlink{ess__socket_8h_a9305eae437d57846661e997bb755d150}{ess\+\_\+socket\+\_\+fam\+\_\+t}}]{fam,  }\item[{\hyperlink{ess__socket_8h_a1e8e8de805f8e0b7da25e3b177977273}{ess\+\_\+socket\+\_\+pro\+\_\+t}}]{proto,  }\item[{int}]{flags,  }\item[{\hyperlink{ess__error_8h_a08ab97fcf6745dee67de912e41bd3236}{ess\+\_\+error\+\_\+t} $\ast$}]{error\+\_\+code }\end{DoxyParamCaption})}



Creates a new U\+D\+P/\+IP socket. 

The socket is automatically bound to some port.


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em fam} & is E\+S\+S\+\_\+\+S\+O\+C\+K\+E\+T\+\_\+\+F\+A\+M\+I\+L\+Y\+\_\+\+I\+P4 (A\+F\+\_\+\+I\+N\+ET) or E\+S\+S\+\_\+\+S\+O\+C\+K\+E\+T\+\_\+\+F\+A\+M\+I\+L\+Y\+\_\+\+I\+P6 (A\+F\+\_\+\+I\+N\+E\+T6). \\
\hline
\mbox{\tt in}  & {\em proto} & is E\+S\+S\+\_\+\+S\+O\+C\+K\+E\+T\+\_\+\+P\+R\+O\+T\+O\+\_\+\+D\+R\+AM or E\+S\+S\+\_\+\+S\+O\+C\+K\+E\+T\+\_\+\+P\+R\+O\+T\+O\+\_\+\+D\+R\+A\+M\+\_\+\+L\+I\+TE \\
\hline
\mbox{\tt in}  & {\em flags} & may be the flags specified in socket(2), i.\+e. S\+O\+C\+K\+\_\+\+N\+O\+N\+B\+L\+O\+CK and/or S\+O\+C\+K\+\_\+\+C\+L\+O\+E\+X\+EC. More than one flags may be O\+Red. This argument is only sensible on Linux $>$= 2.\+6.\+27! \\
\hline
\mbox{\tt out}  & {\em error\+\_\+code} & if !=0 then error codes\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The socket file descriptor number, on error N\+U\+LL.
\end{DoxyReturn}
To send and receive data with this socket use the functions explained below, \hyperlink{ess__socket_8h_abe25e0d1df2293293f0aa3ee0dedadcf}{ess\+\_\+socket\+\_\+read\+\_\+dram()} and \hyperlink{ess__socket_8h_a62b826aa7c650a8d4dc447f029364a94}{ess\+\_\+socket\+\_\+write\+\_\+dram()}. 

Definition at line 310 of file ess\+\_\+socket.\+c.


\begin{DoxyCode}
310                                                                                                            
                   \{
311   \textcolor{keywordtype}{int} sfd;
312   \textcolor{keywordtype}{int} \_proto;
313 
314   \textcolor{keywordflow}{if} (fam != \hyperlink{ess__socket_8h_aeaa282f75f614c7bb033f6b7a72ed037aff947ddfbc0a3d635ad83146dbaa3a72}{ESS\_SOCKET\_FAMILY\_IP6} && fam != 
      \hyperlink{ess__socket_8h_aeaa282f75f614c7bb033f6b7a72ed037a5e2c7645ba65720d7b828d111df09bb1}{ESS\_SOCKET\_FAMILY\_IP4})   \{
315     \textcolor{keywordflow}{if}(error\_code != 0) \{ *error\_code = \hyperlink{ess__error_8h_a3a40ffb47f45a17c8989af8286e7a07fa33645fb11bd8e70afa78f70c8510353b}{ESS\_ERROR\_UNSPEC\_FAMILY}; \}
316     \textcolor{keywordflow}{return} 0;
317   \}
318   \textcolor{keywordflow}{if}(proto == \hyperlink{ess__socket_8h_a2a924f6745a916783fa640cb1c7e1922afb68fe5545329fb828acf269580e0be9}{ESS\_SOCKET\_PROTO\_DRAM\_LITE}) \{
319     \_proto = IPPROTO\_UDPLITE;
320   \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}(proto == \hyperlink{ess__socket_8h_a2a924f6745a916783fa640cb1c7e1922a93d8e041d336d1198151ca5cca210d34}{ESS\_SOCKET\_PROTO\_DRAM}) \{
321     \_proto  = 0;
322   \} \textcolor{keywordflow}{else} \{
323     \textcolor{keywordflow}{if}(error\_code != 0) \{ *error\_code = \hyperlink{ess__error_8h_a3a40ffb47f45a17c8989af8286e7a07fa6e5f6a4817d742aaf08c97977006bd40}{ESS\_ERROR\_UNSPEC\_PROTOKOL}; \}
324     \textcolor{keywordflow}{return} 0;
325   \}
326 
327   \textcolor{keywordflow}{switch} ( proto )
328   \{
329   \textcolor{keywordflow}{case} \hyperlink{ess__socket_8h_aeaa282f75f614c7bb033f6b7a72ed037a5e2c7645ba65720d7b828d111df09bb1}{ESS\_SOCKET\_FAMILY\_IP4} :
330     sfd = socket(AF\_INET,SOCK\_DGRAM|flags,\_proto);
331     \textcolor{keywordflow}{break};
332   \textcolor{keywordflow}{case} \hyperlink{ess__socket_8h_aeaa282f75f614c7bb033f6b7a72ed037aff947ddfbc0a3d635ad83146dbaa3a72}{ESS\_SOCKET\_FAMILY\_IP6} :
333     sfd = socket(AF\_INET6,SOCK\_DGRAM|flags,\_proto);
334     \textcolor{keywordflow}{break};
335   \textcolor{keywordflow}{default}:
336     \textcolor{keywordflow}{if}(error\_code != 0) \{ *error\_code = \hyperlink{ess__error_8h_a3a40ffb47f45a17c8989af8286e7a07fa33645fb11bd8e70afa78f70c8510353b}{ESS\_ERROR\_UNSPEC\_FAMILY}; \}
337     \textcolor{keywordflow}{return} 0;
338   \}
339 
340   \textcolor{keywordflow}{if} ( -1 == sfd ) \{
341     \textcolor{keywordflow}{if}(error\_code != 0) \{ *error\_code = \hyperlink{ess__error_8h_a3a40ffb47f45a17c8989af8286e7a07faa30baabd6fe0c3ccddb08d1692308f0e}{ESS\_ERROR\_CONNECT}; \}
342     \textcolor{keywordflow}{return} 0;
343   \}
344   \hyperlink{structess__socket}{ess\_socket\_t}*  new\_socket = (\hyperlink{structess__socket}{ess\_socket\_t}*)malloc(\textcolor{keyword}{sizeof}(
      \hyperlink{structess__socket}{ess\_socket\_t}));
345   \textcolor{keywordflow}{if}(new\_socket == 0) \{
346     \textcolor{keywordflow}{if}(error\_code != 0) \{ *error\_code = \hyperlink{ess__error_8h_a3a40ffb47f45a17c8989af8286e7a07fa6a45eefc15738cbbc15b5ef516da1c69}{ESS\_ERROR\_OUTOFMEM}; \}
347     \textcolor{keywordflow}{return} 0;
348   \}
349   new\_socket->\hyperlink{structess__socket_a3666576f6b88007cc7b8f26c7da596c8}{socket} = sfd;
350   new\_socket->\hyperlink{structess__socket_ad09623d57ebd33fef8dac4e18c0cba2f}{family} = fam;
351   new\_socket->\hyperlink{structess__socket_a1f0429596710512357072b192ba3d2bd}{protokol} = proto;
352 
353   \textcolor{keywordflow}{return} new\_socket;
354 \}
\end{DoxyCode}
\mbox{\Hypertarget{ess__socket_8h_a9a56fb3768b443909f73bb84b7952cb2}\label{ess__socket_8h_a9a56fb3768b443909f73bb84b7952cb2}} 
\index{ess\+\_\+socket.\+h@{ess\+\_\+socket.\+h}!ess\+\_\+socket\+\_\+create\+\_\+server@{ess\+\_\+socket\+\_\+create\+\_\+server}}
\index{ess\+\_\+socket\+\_\+create\+\_\+server@{ess\+\_\+socket\+\_\+create\+\_\+server}!ess\+\_\+socket.\+h@{ess\+\_\+socket.\+h}}
\subsubsection{\texorpdfstring{ess\+\_\+socket\+\_\+create\+\_\+server()}{ess\_socket\_create\_server()}}
{\footnotesize\ttfamily \hyperlink{ess__error_8h_a08ab97fcf6745dee67de912e41bd3236}{ess\+\_\+error\+\_\+t} ess\+\_\+socket\+\_\+create\+\_\+server (\begin{DoxyParamCaption}\item[{\hyperlink{ess__socket_8h_a9305eae437d57846661e997bb755d150}{ess\+\_\+socket\+\_\+fam\+\_\+t}}]{fam,  }\item[{\hyperlink{ess__socket_8h_a1e8e8de805f8e0b7da25e3b177977273}{ess\+\_\+socket\+\_\+pro\+\_\+t}}]{protokoll,  }\item[{const char $\ast$}]{addr,  }\item[{unsigned short}]{port,  }\item[{\hyperlink{ess__socket_8h_ab7457db5cd500e7f0d74d0bc07356663}{ess\+\_\+socket\+\_\+t} $\ast$}]{socket }\end{DoxyParamCaption})}



Create a T\+CP or U\+DP server socket. 


\begin{DoxyParams}{Parameters}
{\em protokoll} & {\ttfamily E\+S\+S\+\_\+\+S\+O\+C\+K\+E\+T\+\_\+\+P\+R\+O\+T\+O\+\_\+\+S\+T\+R\+E\+AM}, {\ttfamily E\+S\+S\+\_\+\+S\+O\+C\+K\+E\+T\+\_\+\+P\+R\+O\+T\+O\+\_\+\+D\+R\+AM} or {\ttfamily E\+S\+S\+\_\+\+S\+O\+C\+K\+E\+T\+\_\+\+P\+R\+O\+T\+O\+\_\+\+D\+R\+A\+M\+\_\+\+L\+I\+TE} \\
\hline
{\em fam} & Either {\ttfamily E\+S\+S\+\_\+\+S\+O\+C\+K\+E\+T\+\_\+\+F\+A\+M\+I\+L\+Y\+\_\+\+I\+P4}, {\ttfamily E\+S\+S\+\_\+\+S\+O\+C\+K\+E\+T\+\_\+\+F\+A\+M\+I\+L\+Y\+\_\+\+I\+P6} or {\ttfamily E\+S\+S\+\_\+\+S\+O\+C\+K\+E\+T\+\_\+\+F\+A\+M\+I\+L\+Y\+\_\+\+B\+O\+TH}; latter means that the D\+NS resolver should decide. \\
\hline
{\em bind\+\_\+addr} & Address to bind to. If you want to bind to every address use \char`\"{}0.\+0.\+0.\+0\char`\"{} or \char`\"{}\+::\char`\"{} (I\+Pv6 wildcard) \\
\hline
{\em port} & The port to bind to. \\
\hline
{\em socket} & the using socket struct\\
\hline
\end{DoxyParams}

\begin{DoxyRetVals}{Return values}
{\em E\+S\+S\+\_\+\+OK} & the socket was created -\/ T\+CP socket are listin \\
\hline
{\em E\+S\+S\+\_\+\+E\+R\+R\+O\+R\+\_\+\+U\+N\+S\+P\+EC} & socket alwas created \\
\hline
{\em E\+S\+S\+\_\+\+E\+R\+R\+O\+R\+\_\+\+U\+N\+S\+P\+E\+C\+\_\+\+P\+R\+O\+T\+O\+K\+OL} & unknown protokol  E\+S\+S\+\_\+\+E\+R\+R\+O\+R\+\_\+\+U\+N\+S\+P\+E\+C\+\_\+\+F\+A\+M\+I\+LY unknown family \\
\hline
{\em E\+S\+S\+\_\+\+E\+R\+R\+O\+R\+\_\+\+G\+E\+T\+A\+D\+DR} & \\
\hline
{\em E\+S\+S\+\_\+\+E\+R\+R\+O\+R\+\_\+\+B\+I\+ND} & error to call bind \\
\hline
{\em E\+S\+S\+\_\+\+E\+R\+R\+O\+R\+\_\+\+N\+U\+LL} & socket was N\+U\+LL \\
\hline
\end{DoxyRetVals}


Definition at line 65 of file ess\+\_\+socket.\+c.


\begin{DoxyCode}
66                                                                                                            
                          \{
67   \textcolor{keywordflow}{if}(\_socket == 0) \textcolor{keywordflow}{return} \hyperlink{ess__error_8h_a3a40ffb47f45a17c8989af8286e7a07fa96978468215ef7117c99232e72d7fb39}{ESS\_ERROR\_NULL};
68   \textcolor{keywordflow}{if}( \_socket->status == \hyperlink{ess__socket_8h_a85c5abde0574d4a5fbf9e220a18e89dca37cf1e968a55c1fffcf40faa6fe58bd2}{ESS\_SOCKET\_STATUS\_STOPPED})
69     \textcolor{keywordflow}{return} \hyperlink{ess__error_8h_a3a40ffb47f45a17c8989af8286e7a07faa28e2c57627994f0cfa08dd3b4e28b97}{ESS\_ERROR};
70 
71   \_socket->family = fam;
72   \_socket->protokol = protokoll;
73   \_socket->port = port;
74   \_socket->status = \hyperlink{ess__socket_8h_a85c5abde0574d4a5fbf9e220a18e89dca12156322e5e18ca7411b18dba57b9874}{ESS\_SOCKET\_STATUS\_CREATED};
75   \_socket->hostname[0] = \textcolor{charliteral}{'\(\backslash\)0'};
76   \_socket->hostname\_len = strlen(hostname);
77 
78     strncpy(\_socket->hostname, hostname, strlen(hostname));
79 
80 
81   \textcolor{keyword}{struct }addrinfo *result, *result\_check, hints;
82   memset(&hints,0,\textcolor{keyword}{sizeof}(\textcolor{keyword}{struct} addrinfo));
83 
84   \textcolor{keywordflow}{switch}(\_socket->protokol) \{
85     \textcolor{keywordflow}{case} \hyperlink{ess__socket_8h_a2a924f6745a916783fa640cb1c7e1922acba46066923047105db966901c0e8904}{ESS\_SOCKET\_PROTO\_STREAM}:  hints.ai\_socktype = SOCK\_STREAM;  \textcolor{keywordflow}{break};
86     \textcolor{keywordflow}{case} \hyperlink{ess__socket_8h_a2a924f6745a916783fa640cb1c7e1922a93d8e041d336d1198151ca5cca210d34}{ESS\_SOCKET\_PROTO\_DRAM}:  hints.ai\_socktype = SOCK\_DGRAM; \textcolor{keywordflow}{break};
87     \textcolor{keywordflow}{case} \hyperlink{ess__socket_8h_a2a924f6745a916783fa640cb1c7e1922afb68fe5545329fb828acf269580e0be9}{ESS\_SOCKET\_PROTO\_DRAM\_LITE}:  hints.ai\_socktype = SOCK\_DGRAM;  hints.
      ai\_protocol = IPPROTO\_UDPLITE; \textcolor{keywordflow}{break};
88     \textcolor{keywordflow}{default}: \_socket->status = \hyperlink{ess__socket_8h_a85c5abde0574d4a5fbf9e220a18e89dcaa44487507568afb1224527edc59777bc}{ESS\_SOCKET\_STATUS\_ERROR}; \textcolor{keywordflow}{return} 
      \hyperlink{ess__error_8h_a3a40ffb47f45a17c8989af8286e7a07fa6e5f6a4817d742aaf08c97977006bd40}{ESS\_ERROR\_UNSPEC\_PROTOKOL};
89   \};
90   \textcolor{keywordflow}{switch} ( \_socket->family ) \{
91     \textcolor{keywordflow}{case} \hyperlink{ess__socket_8h_aeaa282f75f614c7bb033f6b7a72ed037a5e2c7645ba65720d7b828d111df09bb1}{ESS\_SOCKET\_FAMILY\_IP4}: hints.ai\_family = AF\_INET; \textcolor{keywordflow}{break};
92     \textcolor{keywordflow}{case} \hyperlink{ess__socket_8h_aeaa282f75f614c7bb033f6b7a72ed037aff947ddfbc0a3d635ad83146dbaa3a72}{ESS\_SOCKET\_FAMILY\_IP6}: hints.ai\_family = AF\_INET6; \textcolor{keywordflow}{break};
93     \textcolor{keywordflow}{case} \hyperlink{ess__socket_8h_aeaa282f75f614c7bb033f6b7a72ed037a7376a04481497185206395231d23624d}{ESS\_SOCKET\_FAMILY\_BOTH}: hints.ai\_family = AF\_UNSPEC; \textcolor{keywordflow}{break};
94     \textcolor{keywordflow}{default}: \_socket->status = \hyperlink{ess__socket_8h_a85c5abde0574d4a5fbf9e220a18e89dcaa44487507568afb1224527edc59777bc}{ESS\_SOCKET\_STATUS\_ERROR}; \textcolor{keywordflow}{return} 
      \hyperlink{ess__error_8h_a3a40ffb47f45a17c8989af8286e7a07fa33645fb11bd8e70afa78f70c8510353b}{ESS\_ERROR\_UNSPEC\_FAMILY};
95   \}
96   hints.ai\_flags = AI\_PASSIVE;
97 
98   \textcolor{keywordtype}{char} buffer[8]; buffer[0] = \textcolor{charliteral}{'\(\backslash\)0'};
99   snprintf(buffer, 8,\textcolor{stringliteral}{"%d"},\_socket->port) ;
100   \textcolor{keywordflow}{if} (  (\_socket->retval = getaddrinfo(\_socket->hostname, buffer ,&hints,&result)) != 0 ) \{
101     \_socket->status = \hyperlink{ess__socket_8h_a85c5abde0574d4a5fbf9e220a18e89dcaa44487507568afb1224527edc59777bc}{ESS\_SOCKET\_STATUS\_ERROR};
102     \textcolor{keywordflow}{return} \hyperlink{ess__error_8h_a3a40ffb47f45a17c8989af8286e7a07fa27d1d29e5376284759ed12c811b4d94e}{ESS\_ERROR\_GETADDR};
103   \}
104 
105   \textcolor{keywordflow}{for} ( result\_check = result; result\_check != NULL; result\_check = result\_check->ai\_next ) \{
106     \_socket->socket = socket(result\_check->ai\_family, result\_check->ai\_socktype, result\_check->ai\_protocol)
      ;
107     \textcolor{keywordflow}{if} ( \_socket->socket < 0 )  \textcolor{keywordflow}{continue};
108     \textcolor{keywordflow}{if} (  (\_socket->retval  = bind(\_socket->socket, result\_check->ai\_addr,(socklen\_t)result\_check->
      ai\_addrlen)) != 0 ) \{
109       close(\_socket->socket); \textcolor{keywordflow}{continue};
110     \}
111     \textcolor{keywordflow}{if} (\_socket->protokol == \hyperlink{ess__socket_8h_a2a924f6745a916783fa640cb1c7e1922acba46066923047105db966901c0e8904}{ESS\_SOCKET\_PROTO\_STREAM}) \{
112         \textcolor{keywordflow}{if} (  (\_socket->retval  = listen(\_socket->socket, 128)) == 0) \{
113           \textcolor{keywordflow}{break};
114         \} \textcolor{keywordflow}{else} \{
115           close(\_socket->socket);
116         \}
117     \}
118   \}
119   \textcolor{keywordflow}{if} ( result\_check == NULL ) \{
120     freeaddrinfo(result);
121     \_socket->status = \hyperlink{ess__socket_8h_a85c5abde0574d4a5fbf9e220a18e89dcaa44487507568afb1224527edc59777bc}{ESS\_SOCKET\_STATUS\_ERROR};
122     \textcolor{keywordflow}{return} \hyperlink{ess__error_8h_a3a40ffb47f45a17c8989af8286e7a07fa497475ae748b432dea8df5daabc4f0ad}{ESS\_ERROR\_BIND};
123   \}
124   freeaddrinfo(result);
125 
126   \_socket->status = \hyperlink{ess__socket_8h_a85c5abde0574d4a5fbf9e220a18e89dca7ee468f68ee4bd3cfbcdc6bda032be83}{ESS\_SOCKET\_STATUS\_LISTEN};
127   \textcolor{keywordflow}{return} \hyperlink{ess__error_8h_a3a40ffb47f45a17c8989af8286e7a07fa7a39eb24d172b29cca7678967088d864}{ESS\_OK};
128 \}
\end{DoxyCode}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=336pt]{d8/da1/ess__socket_8h_a9a56fb3768b443909f73bb84b7952cb2_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{ess__socket_8h_a356fa52fcec30125f75ad2fa2e35ef00}\label{ess__socket_8h_a356fa52fcec30125f75ad2fa2e35ef00}} 
\index{ess\+\_\+socket.\+h@{ess\+\_\+socket.\+h}!ess\+\_\+socket\+\_\+end@{ess\+\_\+socket\+\_\+end}}
\index{ess\+\_\+socket\+\_\+end@{ess\+\_\+socket\+\_\+end}!ess\+\_\+socket.\+h@{ess\+\_\+socket.\+h}}
\subsubsection{\texorpdfstring{ess\+\_\+socket\+\_\+end()}{ess\_socket\_end()}}
{\footnotesize\ttfamily \hyperlink{ess__error_8h_a08ab97fcf6745dee67de912e41bd3236}{ess\+\_\+error\+\_\+t} ess\+\_\+socket\+\_\+end (\begin{DoxyParamCaption}\item[{\hyperlink{ess__socket_8h_ab7457db5cd500e7f0d74d0bc07356663}{ess\+\_\+socket\+\_\+t} $\ast$}]{socket }\end{DoxyParamCaption})}



perform a {\ttfamily shutdown(2)} call on a socket (read/write) 


\begin{DoxyParams}{Parameters}
{\em socket} & the using socket struct\\
\hline
\end{DoxyParams}

\begin{DoxyRetVals}{Return values}
{\em E\+S\+S\+\_\+\+OK} & Closed socket successfully \\
\hline
{\em E\+S\+S\+\_\+\+E\+R\+R\+O\+R\+\_\+\+N\+U\+LL} & socket was N\+U\+LL \\
\hline
{\em E\+S\+S\+\_\+\+E\+R\+R\+O\+R\+\_\+\+C\+L\+O\+SE} & Socket was already closed (other errors are very unlikely to occur) \\
\hline
\end{DoxyRetVals}


Definition at line 165 of file ess\+\_\+socket.\+c.


\begin{DoxyCode}
165                                                   \{
166   \textcolor{keywordflow}{if}(\_socket == 0) \textcolor{keywordflow}{return} \hyperlink{ess__error_8h_a3a40ffb47f45a17c8989af8286e7a07fa96978468215ef7117c99232e72d7fb39}{ESS\_ERROR\_NULL};
167 
168   \textcolor{keywordflow}{if} (  (\_socket->retval  = shutdown(\_socket->socket,  SHUT\_RD) )  != 0 ) \{
169     \_socket->status = \hyperlink{ess__socket_8h_a85c5abde0574d4a5fbf9e220a18e89dcaa44487507568afb1224527edc59777bc}{ESS\_SOCKET\_STATUS\_ERROR};
170     \textcolor{keywordflow}{return} \hyperlink{ess__error_8h_a3a40ffb47f45a17c8989af8286e7a07fa3c103cfeedd28b98ed4c47427b1b69ca}{ESS\_ERROR\_CLOSE};
171   \}
172   \textcolor{keywordflow}{if} (  (\_socket->retval  = shutdown(\_socket->socket,  SHUT\_WR) )  != 0 ) \{
173     \_socket->status = \hyperlink{ess__socket_8h_a85c5abde0574d4a5fbf9e220a18e89dcaa44487507568afb1224527edc59777bc}{ESS\_SOCKET\_STATUS\_ERROR};
174     \textcolor{keywordflow}{return} \hyperlink{ess__error_8h_a3a40ffb47f45a17c8989af8286e7a07fa3c103cfeedd28b98ed4c47427b1b69ca}{ESS\_ERROR\_CLOSE};
175   \}
176 
177   \textcolor{keywordflow}{return} \hyperlink{ess__error_8h_a3a40ffb47f45a17c8989af8286e7a07fa7a39eb24d172b29cca7678967088d864}{ESS\_OK};
178 \}
\end{DoxyCode}
\mbox{\Hypertarget{ess__socket_8h_a01a98541c1c0a9d48f96dd8d4d5ac7ac}\label{ess__socket_8h_a01a98541c1c0a9d48f96dd8d4d5ac7ac}} 
\index{ess\+\_\+socket.\+h@{ess\+\_\+socket.\+h}!ess\+\_\+socket\+\_\+end\+\_\+read@{ess\+\_\+socket\+\_\+end\+\_\+read}}
\index{ess\+\_\+socket\+\_\+end\+\_\+read@{ess\+\_\+socket\+\_\+end\+\_\+read}!ess\+\_\+socket.\+h@{ess\+\_\+socket.\+h}}
\subsubsection{\texorpdfstring{ess\+\_\+socket\+\_\+end\+\_\+read()}{ess\_socket\_end\_read()}}
{\footnotesize\ttfamily \hyperlink{ess__error_8h_a08ab97fcf6745dee67de912e41bd3236}{ess\+\_\+error\+\_\+t} ess\+\_\+socket\+\_\+end\+\_\+read (\begin{DoxyParamCaption}\item[{\hyperlink{ess__socket_8h_ab7457db5cd500e7f0d74d0bc07356663}{ess\+\_\+socket\+\_\+t} $\ast$}]{socket }\end{DoxyParamCaption})}



perform a {\ttfamily shutdown(2)} call on a socket (read) 


\begin{DoxyParams}{Parameters}
{\em socket} & the using socket struct\\
\hline
\end{DoxyParams}

\begin{DoxyRetVals}{Return values}
{\em E\+S\+S\+\_\+\+OK} & Closed socket successfully \\
\hline
{\em E\+S\+S\+\_\+\+E\+R\+R\+O\+R\+\_\+\+N\+U\+LL} & socket was N\+U\+LL \\
\hline
{\em E\+S\+S\+\_\+\+E\+R\+R\+O\+R\+\_\+\+C\+L\+O\+SE} & Socket was already closed (other errors are very unlikely to occur) \\
\hline
\end{DoxyRetVals}


Definition at line 155 of file ess\+\_\+socket.\+c.


\begin{DoxyCode}
155                                                        \{
156   \textcolor{keywordflow}{if}(\_socket == 0) \textcolor{keywordflow}{return} \hyperlink{ess__error_8h_a3a40ffb47f45a17c8989af8286e7a07fa96978468215ef7117c99232e72d7fb39}{ESS\_ERROR\_NULL};
157 
158   \textcolor{keywordflow}{if} (  (\_socket->retval  = shutdown(\_socket->socket,  SHUT\_RD) )  != 0 ) \{
159     \_socket->status = \hyperlink{ess__socket_8h_a85c5abde0574d4a5fbf9e220a18e89dcaa44487507568afb1224527edc59777bc}{ESS\_SOCKET\_STATUS\_ERROR};
160     \textcolor{keywordflow}{return} \hyperlink{ess__error_8h_a3a40ffb47f45a17c8989af8286e7a07fa3c103cfeedd28b98ed4c47427b1b69ca}{ESS\_ERROR\_CLOSE};
161   \}
162   \textcolor{keywordflow}{return} \hyperlink{ess__error_8h_a3a40ffb47f45a17c8989af8286e7a07fa7a39eb24d172b29cca7678967088d864}{ESS\_OK};
163 \}
\end{DoxyCode}
\mbox{\Hypertarget{ess__socket_8h_a4e31af0d18cc5b7b5a56de944d2ce62a}\label{ess__socket_8h_a4e31af0d18cc5b7b5a56de944d2ce62a}} 
\index{ess\+\_\+socket.\+h@{ess\+\_\+socket.\+h}!ess\+\_\+socket\+\_\+end\+\_\+write@{ess\+\_\+socket\+\_\+end\+\_\+write}}
\index{ess\+\_\+socket\+\_\+end\+\_\+write@{ess\+\_\+socket\+\_\+end\+\_\+write}!ess\+\_\+socket.\+h@{ess\+\_\+socket.\+h}}
\subsubsection{\texorpdfstring{ess\+\_\+socket\+\_\+end\+\_\+write()}{ess\_socket\_end\_write()}}
{\footnotesize\ttfamily \hyperlink{ess__error_8h_a08ab97fcf6745dee67de912e41bd3236}{ess\+\_\+error\+\_\+t} ess\+\_\+socket\+\_\+end\+\_\+write (\begin{DoxyParamCaption}\item[{\hyperlink{ess__socket_8h_ab7457db5cd500e7f0d74d0bc07356663}{ess\+\_\+socket\+\_\+t} $\ast$}]{socket }\end{DoxyParamCaption})}



perform a {\ttfamily shutdown(2)} call on a socket (write) 

This function closes a socket.


\begin{DoxyParams}{Parameters}
{\em socket} & the using socket struct\\
\hline
\end{DoxyParams}

\begin{DoxyRetVals}{Return values}
{\em E\+S\+S\+\_\+\+OK} & Closed socket successfully \\
\hline
{\em E\+S\+S\+\_\+\+E\+R\+R\+O\+R\+\_\+\+N\+U\+LL} & socket was N\+U\+LL \\
\hline
{\em E\+S\+S\+\_\+\+E\+R\+R\+O\+R\+\_\+\+C\+L\+O\+SE} & Socket was already closed (other errors are very unlikely to occur) \\
\hline
\end{DoxyRetVals}


Definition at line 140 of file ess\+\_\+socket.\+c.


\begin{DoxyCode}
140                                                         \{
141   \textcolor{keywordflow}{if}(\_socket == 0) \textcolor{keywordflow}{return} \hyperlink{ess__error_8h_a3a40ffb47f45a17c8989af8286e7a07fa96978468215ef7117c99232e72d7fb39}{ESS\_ERROR\_NULL};
142 
143   \textcolor{keywordflow}{if} (  (\_socket->retval  = shutdown(\_socket->socket,  SHUT\_WR) )  != 0 ) \{
144     \_socket->status = \hyperlink{ess__socket_8h_a85c5abde0574d4a5fbf9e220a18e89dcaa44487507568afb1224527edc59777bc}{ESS\_SOCKET\_STATUS\_ERROR};
145     \textcolor{keywordflow}{return} \hyperlink{ess__error_8h_a3a40ffb47f45a17c8989af8286e7a07fa3c103cfeedd28b98ed4c47427b1b69ca}{ESS\_ERROR\_CLOSE};
146   \}
147   \textcolor{keywordflow}{return} \hyperlink{ess__error_8h_a3a40ffb47f45a17c8989af8286e7a07fa7a39eb24d172b29cca7678967088d864}{ESS\_OK};
148 
149   \textcolor{keywordflow}{if} (  (\_socket->retval  = shutdown(\_socket->socket,  SHUT\_WR) )  != 0 ) \{
150     \_socket->status = \hyperlink{ess__socket_8h_a85c5abde0574d4a5fbf9e220a18e89dcaa44487507568afb1224527edc59777bc}{ESS\_SOCKET\_STATUS\_ERROR};
151     \textcolor{keywordflow}{return} \hyperlink{ess__error_8h_a3a40ffb47f45a17c8989af8286e7a07fa3c103cfeedd28b98ed4c47427b1b69ca}{ESS\_ERROR\_CLOSE};
152   \}
153 \}
\end{DoxyCode}
\mbox{\Hypertarget{ess__socket_8h_a944f0798ea120bef422f97909451b1a9}\label{ess__socket_8h_a944f0798ea120bef422f97909451b1a9}} 
\index{ess\+\_\+socket.\+h@{ess\+\_\+socket.\+h}!ess\+\_\+socket\+\_\+read@{ess\+\_\+socket\+\_\+read}}
\index{ess\+\_\+socket\+\_\+read@{ess\+\_\+socket\+\_\+read}!ess\+\_\+socket.\+h@{ess\+\_\+socket.\+h}}
\subsubsection{\texorpdfstring{ess\+\_\+socket\+\_\+read()}{ess\_socket\_read()}}
{\footnotesize\ttfamily \hyperlink{ess__error_8h_a08ab97fcf6745dee67de912e41bd3236}{ess\+\_\+error\+\_\+t} ess\+\_\+socket\+\_\+read (\begin{DoxyParamCaption}\item[{\hyperlink{ess__socket_8h_ab7457db5cd500e7f0d74d0bc07356663}{ess\+\_\+socket\+\_\+t} $\ast$}]{socket,  }\item[{void $\ast$}]{buffer,  }\item[{unsigned int}]{size,  }\item[{unsigned int $\ast$}]{readed }\end{DoxyParamCaption})}



read from socket 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em the} & remote socket \\
\hline
 & {\em buffer} & where the data will be read \\
\hline
 & {\em size} & the size of {\ttfamily buffer} \\
\hline
 & {\em readed} & how many bytes readed\\
\hline
\end{DoxyParams}

\begin{DoxyRetVals}{Return values}
{\em E\+S\+S\+\_\+\+OK} & all ok \\
\hline
{\em E\+S\+S\+\_\+\+S\+O\+C\+K\+E\+T\+\_\+\+U\+N\+S\+P\+EC} & Error \\
\hline
\end{DoxyRetVals}


Definition at line 464 of file ess\+\_\+socket.\+c.


\begin{DoxyCode}
464                                                                                                          \{
465   \textcolor{keywordtype}{int} readed\_g = 0;
466 
467   \textcolor{keywordflow}{if}(buffer == 0) \{ \textcolor{keywordflow}{if}(readed) *readed = 0; \textcolor{keywordflow}{return} \hyperlink{ess__error_8h_a3a40ffb47f45a17c8989af8286e7a07fa96978468215ef7117c99232e72d7fb39}{ESS\_ERROR\_NULL}; \}
468 
469   \textcolor{keywordflow}{if} (socket == 0)   \{
470     \textcolor{keywordflow}{return} \hyperlink{ess__error_8h_a3a40ffb47f45a17c8989af8286e7a07fa96978468215ef7117c99232e72d7fb39}{ESS\_ERROR\_NULL};
471   \}
472   readed\_g = read(socket->\hyperlink{structess__socket_a3666576f6b88007cc7b8f26c7da596c8}{socket}, buffer, size);
473   \textcolor{keywordflow}{if}(readed\_g > 0) \{
474     \textcolor{keywordflow}{return} \hyperlink{ess__error_8h_a3a40ffb47f45a17c8989af8286e7a07faa28e2c57627994f0cfa08dd3b4e28b97}{ESS\_ERROR};
475   \}
476   \textcolor{keywordflow}{if}(readed) \{
477     *readed = readed\_g;
478   \}
479   \textcolor{keywordflow}{return} \hyperlink{ess__error_8h_a3a40ffb47f45a17c8989af8286e7a07fa7a39eb24d172b29cca7678967088d864}{ESS\_OK};
480 \}
\end{DoxyCode}
\mbox{\Hypertarget{ess__socket_8h_abe25e0d1df2293293f0aa3ee0dedadcf}\label{ess__socket_8h_abe25e0d1df2293293f0aa3ee0dedadcf}} 
\index{ess\+\_\+socket.\+h@{ess\+\_\+socket.\+h}!ess\+\_\+socket\+\_\+read\+\_\+dram@{ess\+\_\+socket\+\_\+read\+\_\+dram}}
\index{ess\+\_\+socket\+\_\+read\+\_\+dram@{ess\+\_\+socket\+\_\+read\+\_\+dram}!ess\+\_\+socket.\+h@{ess\+\_\+socket.\+h}}
\subsubsection{\texorpdfstring{ess\+\_\+socket\+\_\+read\+\_\+dram()}{ess\_socket\_read\_dram()}}
{\footnotesize\ttfamily \hyperlink{ess__error_8h_a08ab97fcf6745dee67de912e41bd3236}{ess\+\_\+error\+\_\+t} ess\+\_\+socket\+\_\+read\+\_\+dram (\begin{DoxyParamCaption}\item[{\hyperlink{ess__socket_8h_ab7457db5cd500e7f0d74d0bc07356663}{ess\+\_\+socket\+\_\+t} $\ast$}]{socket,  }\item[{void $\ast$}]{buf,  }\item[{unsigned int}]{size,  }\item[{char $\ast$}]{src\+\_\+host,  }\item[{unsigned int}]{src\+\_\+host\+\_\+len,  }\item[{int}]{src\+\_\+port,  }\item[{int}]{recvfrom\+\_\+flags }\end{DoxyParamCaption})}



Receive data from a U\+D\+P/\+IP socket. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em the} & socket you got from {\ttfamily ess\+\_\+socket\+\_\+create\+\_\+dram}. \\
\hline
 & {\em buf} & where the data will be written \\
\hline
 & {\em size} & the size of {\ttfamily buffer} \\
\hline
 & {\em src\+\_\+host} & Where the sending host\textquotesingle{}s name/\+IP will be stored \\
\hline
 & {\em src\+\_\+host\+\_\+len} & {\ttfamily src\+\_\+host}\textquotesingle{}s length \\
\hline
 & {\em src\+\_\+port} & where the port on remote side will be written to \\
\hline
 & {\em recvfrom\+\_\+flags} & Flags for {\ttfamily recvfrom(2)}\\
\hline
\end{DoxyParams}

\begin{DoxyRetVals}{Return values}
{\em n} & {\itshape n} bytes of data were received. \\
\hline
{\em 0} & Peer sent E\+OF. \\
\hline
{\em $<$0} & An error occurred. \\
\hline
\end{DoxyRetVals}


Definition at line 439 of file ess\+\_\+socket.\+c.


\begin{DoxyCode}
440                                                                 \{
441 
442   \textcolor{keyword}{struct }sockaddr\_storage client;
443   \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} bytes;
444 
445   \textcolor{keywordtype}{char} buffer[8]; buffer[0] = \textcolor{charliteral}{'\(\backslash\)0'};
446   snprintf(buffer, 8, \textcolor{stringliteral}{"%d"}, src\_port);
447 
448   \textcolor{keywordflow}{if}(buf == 0 || size == 0) \textcolor{keywordflow}{return} 0;
449 
450   \textcolor{keywordflow}{if} (socket == 0 )   \{
451     \textcolor{keywordflow}{return} \hyperlink{ess__error_8h_a3a40ffb47f45a17c8989af8286e7a07fa96978468215ef7117c99232e72d7fb39}{ESS\_ERROR\_NULL};
452   \}
453   memset(buffer,0,size);
454   \textcolor{keywordflow}{if} ( src\_host ) memset(src\_host,0,src\_host\_len);
455 
456   socklen\_t stor\_addrlen = \textcolor{keyword}{sizeof}(\textcolor{keyword}{struct }sockaddr\_storage);
457 
458   \textcolor{keywordflow}{if} ( (bytes = recvfrom(socket->\hyperlink{structess__socket_a3666576f6b88007cc7b8f26c7da596c8}{socket}, buffer,size,recvfrom\_flags,(\textcolor{keyword}{struct} sockaddr*)&client,&
      stor\_addrlen)) == -1)
459     \textcolor{keywordflow}{return} \hyperlink{ess__error_8h_a3a40ffb47f45a17c8989af8286e7a07faa28e2c57627994f0cfa08dd3b4e28b97}{ESS\_ERROR};
460 
461   \textcolor{keywordflow}{return} bytes;
462 \}
\end{DoxyCode}
\mbox{\Hypertarget{ess__socket_8h_a0282292df47969a858ca75e94df8b288}\label{ess__socket_8h_a0282292df47969a858ca75e94df8b288}} 
\index{ess\+\_\+socket.\+h@{ess\+\_\+socket.\+h}!ess\+\_\+socket\+\_\+set\+\_\+buffer@{ess\+\_\+socket\+\_\+set\+\_\+buffer}}
\index{ess\+\_\+socket\+\_\+set\+\_\+buffer@{ess\+\_\+socket\+\_\+set\+\_\+buffer}!ess\+\_\+socket.\+h@{ess\+\_\+socket.\+h}}
\subsubsection{\texorpdfstring{ess\+\_\+socket\+\_\+set\+\_\+buffer()}{ess\_socket\_set\_buffer()}}
{\footnotesize\ttfamily \hyperlink{ess__error_8h_a08ab97fcf6745dee67de912e41bd3236}{ess\+\_\+error\+\_\+t} ess\+\_\+socket\+\_\+set\+\_\+buffer (\begin{DoxyParamCaption}\item[{\hyperlink{ess__socket_8h_ab7457db5cd500e7f0d74d0bc07356663}{ess\+\_\+socket\+\_\+t} $\ast$}]{socket,  }\item[{unsigned int}]{rec\+\_\+buffer\+\_\+size,  }\item[{unsigned int}]{send\+\_\+buffer\+\_\+size }\end{DoxyParamCaption})}



set send and recive buffer size of the socket 


\begin{DoxyParams}{Parameters}
{\em socket} & the using socket struct \\
\hline
{\em rec\+\_\+buffer\+\_\+size} & the size of the raed buffer \\
\hline
{\em send\+\_\+buffer\+\_\+size} & the size of the send buffer \\
\hline
\end{DoxyParams}

\begin{DoxyRetVals}{Return values}
{\em E\+S\+S\+\_\+\+OK} & Closed socket successfully \\
\hline
{\em E\+S\+S\+\_\+\+E\+R\+R\+O\+R\+\_\+\+N\+U\+LL} & socket was N\+U\+LL \\
\hline
{\em E\+S\+S\+\_\+\+E\+R\+R\+O\+R\+\_\+\+C\+L\+O\+SE} & Socket was already closed (other errors are very unlikely to occur) \\
\hline
\end{DoxyRetVals}


Definition at line 244 of file ess\+\_\+socket.\+c.


\begin{DoxyCode}
244                                                                                                            
                   \{
245   \textcolor{keywordflow}{if}(\_socket == 0) \textcolor{keywordflow}{return} \hyperlink{ess__error_8h_a3a40ffb47f45a17c8989af8286e7a07fa96978468215ef7117c99232e72d7fb39}{ESS\_ERROR\_NULL};
246 
247   setsockopt( \_socket->socket, SOL\_SOCKET, SO\_SNDBUF, &send\_buffer\_size, \textcolor{keyword}{sizeof}( send\_buffer\_size ) );
248   setsockopt( \_socket->socket, SOL\_SOCKET, SO\_RCVBUF, &rec\_buffer\_size, \textcolor{keyword}{sizeof}( rec\_buffer\_size ) );
249 
250   \textcolor{keywordflow}{return} \hyperlink{ess__error_8h_a3a40ffb47f45a17c8989af8286e7a07fa7a39eb24d172b29cca7678967088d864}{ESS\_OK};
251 \}
\end{DoxyCode}
\mbox{\Hypertarget{ess__socket_8h_a1cda1ccc6857cde561484dd998124bd7}\label{ess__socket_8h_a1cda1ccc6857cde561484dd998124bd7}} 
\index{ess\+\_\+socket.\+h@{ess\+\_\+socket.\+h}!ess\+\_\+socket\+\_\+write@{ess\+\_\+socket\+\_\+write}}
\index{ess\+\_\+socket\+\_\+write@{ess\+\_\+socket\+\_\+write}!ess\+\_\+socket.\+h@{ess\+\_\+socket.\+h}}
\subsubsection{\texorpdfstring{ess\+\_\+socket\+\_\+write()}{ess\_socket\_write()}}
{\footnotesize\ttfamily \hyperlink{ess__error_8h_a08ab97fcf6745dee67de912e41bd3236}{ess\+\_\+error\+\_\+t} ess\+\_\+socket\+\_\+write (\begin{DoxyParamCaption}\item[{\hyperlink{ess__socket_8h_ab7457db5cd500e7f0d74d0bc07356663}{ess\+\_\+socket\+\_\+t} $\ast$}]{socket,  }\item[{const void $\ast$}]{buffer,  }\item[{unsigned int}]{size,  }\item[{unsigned int $\ast$}]{wrote }\end{DoxyParamCaption})}



read from socket 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em the} & remote socket \\
\hline
 & {\em buffer} & where the data will be read \\
\hline
 & {\em size} & the size of {\ttfamily buffer} \\
\hline
 & {\em wrote} & how many bytes wrote\\
\hline
\end{DoxyParams}

\begin{DoxyRetVals}{Return values}
{\em E\+S\+S\+\_\+\+OK} & all ok \\
\hline
{\em E\+S\+S\+\_\+\+S\+O\+C\+K\+E\+T\+\_\+\+U\+N\+S\+P\+EC} & Error \\
\hline
\end{DoxyRetVals}


Definition at line 481 of file ess\+\_\+socket.\+c.


\begin{DoxyCode}
481                                                                                                            
          \{
482   \textcolor{keywordtype}{int} wrote\_g = 0;
483 
484   \textcolor{keywordflow}{if}(buffer == 0) \{ \textcolor{keywordflow}{if}(wrote) *wrote = 0; \textcolor{keywordflow}{return} \hyperlink{ess__error_8h_a3a40ffb47f45a17c8989af8286e7a07fa96978468215ef7117c99232e72d7fb39}{ESS\_ERROR\_NULL}; \}
485 
486   \textcolor{keywordflow}{if} (socket == 0)   \{
487     \textcolor{keywordflow}{return} \hyperlink{ess__error_8h_a3a40ffb47f45a17c8989af8286e7a07fa96978468215ef7117c99232e72d7fb39}{ESS\_ERROR\_NULL};
488   \}
489   wrote\_g = write(socket->\hyperlink{structess__socket_a3666576f6b88007cc7b8f26c7da596c8}{socket}, buffer, size);
490   \textcolor{keywordflow}{if}(wrote\_g > 0) \{
491     \textcolor{keywordflow}{return} \hyperlink{ess__error_8h_a3a40ffb47f45a17c8989af8286e7a07faa28e2c57627994f0cfa08dd3b4e28b97}{ESS\_ERROR};
492   \}
493   \textcolor{keywordflow}{if}(wrote) \{
494     *wrote = wrote\_g;
495   \}
496   \textcolor{keywordflow}{return} \hyperlink{ess__error_8h_a3a40ffb47f45a17c8989af8286e7a07fa7a39eb24d172b29cca7678967088d864}{ESS\_OK};
497 \}
\end{DoxyCode}
\mbox{\Hypertarget{ess__socket_8h_a62b826aa7c650a8d4dc447f029364a94}\label{ess__socket_8h_a62b826aa7c650a8d4dc447f029364a94}} 
\index{ess\+\_\+socket.\+h@{ess\+\_\+socket.\+h}!ess\+\_\+socket\+\_\+write\+\_\+dram@{ess\+\_\+socket\+\_\+write\+\_\+dram}}
\index{ess\+\_\+socket\+\_\+write\+\_\+dram@{ess\+\_\+socket\+\_\+write\+\_\+dram}!ess\+\_\+socket.\+h@{ess\+\_\+socket.\+h}}
\subsubsection{\texorpdfstring{ess\+\_\+socket\+\_\+write\+\_\+dram()}{ess\_socket\_write\_dram()}}
{\footnotesize\ttfamily \hyperlink{ess__error_8h_a08ab97fcf6745dee67de912e41bd3236}{ess\+\_\+error\+\_\+t} ess\+\_\+socket\+\_\+write\+\_\+dram (\begin{DoxyParamCaption}\item[{\hyperlink{ess__socket_8h_ab7457db5cd500e7f0d74d0bc07356663}{ess\+\_\+socket\+\_\+t} $\ast$}]{socket,  }\item[{const void $\ast$}]{buf,  }\item[{unsigned int}]{size,  }\item[{const char $\ast$}]{host,  }\item[{int}]{port,  }\item[{int}]{sendto\+\_\+flags }\end{DoxyParamCaption})}



This function is the equivalent to {\ttfamily sendto(2)} 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em the} & socket you got from {\ttfamily ess\+\_\+socket\+\_\+create\+\_\+dram}. \\
\hline
 & {\em buf} & is a pointer to some data. \\
\hline
 & {\em size} & is the length of the buffer . \\
\hline
 & {\em host} & is the host to which we want to send the data. \\
\hline
 & {\em port} & is the port on the remote host. \\
\hline
 & {\em sendto\+\_\+flags} & is available on all platforms. The value given here goes directly to the internal sendto() call. \\
\hline
\mbox{\tt out}  & {\em error} & Error codes\\
\hline
\end{DoxyParams}

\begin{DoxyRetVals}{Return values}
{\em n} & {\itshape n} bytes of data could be sent. \\
\hline
{\em E\+S\+S\+\_\+\+E\+R\+R\+O\+R\+\_\+\+U\+N\+S\+P\+EC} & Unsopec error. \\
\hline
{\em E\+S\+S\+\_\+\+E\+R\+R\+O\+R\+\_\+\+N\+U\+LL} & size, host or socket is N\+U\+LL \\
\hline
\end{DoxyRetVals}


Definition at line 407 of file ess\+\_\+socket.\+c.


\begin{DoxyCode}
408                                                 \{
409 
410   \textcolor{keyword}{struct }sockaddr\_storage oldsock;
411   \textcolor{keyword}{struct }addrinfo *result, *result\_check, hint;
412   socklen\_t oldsocklen = \textcolor{keyword}{sizeof}(\textcolor{keyword}{struct }sockaddr\_storage);
413   \textcolor{keywordtype}{int} return\_value;
414   \textcolor{keywordtype}{char} buffer[8]; buffer[0] = \textcolor{charliteral}{'\(\backslash\)0'};
415   snprintf(buffer, 8, \textcolor{stringliteral}{"%d"}, port);
416 
417   \textcolor{keywordflow}{if}(buf == 0) \textcolor{keywordflow}{return} 0;
418 
419   \textcolor{keywordflow}{if} (socket == 0  || port == 0  || host == NULL)   \{
420     \textcolor{keywordflow}{return} \hyperlink{ess__error_8h_a3a40ffb47f45a17c8989af8286e7a07fa96978468215ef7117c99232e72d7fb39}{ESS\_ERROR\_NULL};
421   \}
422   \textcolor{keywordflow}{if} (  getsockname(socket->\hyperlink{structess__socket_a3666576f6b88007cc7b8f26c7da596c8}{socket}, (\textcolor{keyword}{struct} sockaddr*)&oldsock,(socklen\_t*)&oldsocklen) == -1 )\{
423     \textcolor{keywordflow}{return} \hyperlink{ess__error_8h_a3a40ffb47f45a17c8989af8286e7a07faa28e2c57627994f0cfa08dd3b4e28b97}{ESS\_ERROR};
424   \}
425   hint.ai\_family = oldsock.ss\_family;
426   hint.ai\_socktype = SOCK\_DGRAM;
427 
428   \textcolor{keywordflow}{if} ( getaddrinfo(host,buffer,&hint,&result) != 0)\{
429     \textcolor{keywordflow}{return} \hyperlink{ess__error_8h_a3a40ffb47f45a17c8989af8286e7a07faa28e2c57627994f0cfa08dd3b4e28b97}{ESS\_ERROR};
430   \}
431   \textcolor{keywordflow}{for} ( result\_check = result; result\_check != NULL; result\_check = result\_check->ai\_next ) \{ \textcolor{comment}{// go through
       the linked list of struct addrinfo elements}
432     \textcolor{keywordflow}{if} (  (return\_value = sendto(socket->\hyperlink{structess__socket_a3666576f6b88007cc7b8f26c7da596c8}{socket},buf,size,sendto\_flags,result\_check->ai\_addr,
      result\_check->ai\_addrlen)) != -1) \textcolor{comment}{// connected without error}
433       \textcolor{keywordflow}{break};
434   \}
435   freeaddrinfo(result);
436 
437   \textcolor{keywordflow}{return} return\_value;
438 \}
\end{DoxyCode}
